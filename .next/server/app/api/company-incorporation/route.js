"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/company-incorporation/route";
exports.ids = ["app/api/company-incorporation/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany-incorporation%2Froute&page=%2Fapi%2Fcompany-incorporation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany-incorporation%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany-incorporation%2Froute&page=%2Fapi%2Fcompany-incorporation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany-incorporation%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_phraewaphuriyaphan_Desktop_Synergy_updatedform_app_api_company_incorporation_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/company-incorporation/route.ts */ \"(rsc)/./app/api/company-incorporation/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/company-incorporation/route\",\n        pathname: \"/api/company-incorporation\",\n        filename: \"route\",\n        bundlePath: \"app/api/company-incorporation/route\"\n    },\n    resolvedPagePath: \"/Users/phraewaphuriyaphan/Desktop/Synergy_updatedform/app/api/company-incorporation/route.ts\",\n    nextConfigOutput,\n    userland: _Users_phraewaphuriyaphan_Desktop_Synergy_updatedform_app_api_company_incorporation_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/company-incorporation/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZjb21wYW55LWluY29ycG9yYXRpb24lMkZyb3V0ZSZwYWdlPSUyRmFwaSUyRmNvbXBhbnktaW5jb3Jwb3JhdGlvbiUyRnJvdXRlJmFwcFBhdGhzPSZwYWdlUGF0aD1wcml2YXRlLW5leHQtYXBwLWRpciUyRmFwaSUyRmNvbXBhbnktaW5jb3Jwb3JhdGlvbiUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3VwZGF0ZWRmb3JtJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3VwZGF0ZWRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUM0QztBQUN6SDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvP2VkNWQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3BocmFld2FwaHVyaXlhcGhhbi9EZXNrdG9wL1N5bmVyZ3lfdXBkYXRlZGZvcm0vYXBwL2FwaS9jb21wYW55LWluY29ycG9yYXRpb24vcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2NvbXBhbnktaW5jb3Jwb3JhdGlvbi9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2NvbXBhbnktaW5jb3Jwb3JhdGlvblwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvY29tcGFueS1pbmNvcnBvcmF0aW9uL3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3BocmFld2FwaHVyaXlhcGhhbi9EZXNrdG9wL1N5bmVyZ3lfdXBkYXRlZGZvcm0vYXBwL2FwaS9jb21wYW55LWluY29ycG9yYXRpb24vcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2NvbXBhbnktaW5jb3Jwb3JhdGlvbi9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany-incorporation%2Froute&page=%2Fapi%2Fcompany-incorporation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany-incorporation%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/company-incorporation/route.ts":
/*!************************************************!*\
  !*** ./app/api/company-incorporation/route.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   DELETE: () => (/* binding */ DELETE),\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n// app/api/company-incorporation/route.ts\n\n\n\nasync function POST(request) {\n    try {\n        const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const data = await request.json();\n        const { onboardingId, ...formData } = data;\n        if (!onboardingId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"onboardingId is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Extract individual columns from form data (same structure as main API)\n        const { // Individual columns (will be stored separately)\n        signatureType, signatureFilePath, signatureFileName, completedByName, signedAt, ipAddress, userAgent, // JSON fields (will be stored as JSON)\n        companyNames, relevantIndividuals, sourceOfFunds, recordsLocation, declaration, requiresNomineeShareholder, shareholders, requiresNomineeDirector, directors, purposeOfCompany, geographicProfile, authorizedShares, sharesParValue, currency, customShares, customParValue, complexStructureNotes, orderSeal, sealQuantity, jurisdiction, status = \"draft\" } = formData;\n        const needsRegisteredOffice = Boolean(sourceOfFunds?.needsRegisteredOffice);\n        const officeLocation = needsRegisteredOffice ? null : sourceOfFunds?.officeLocation ?? null;\n        const registeredOfficeFeeHKD = needsRegisteredOffice ? 1500 : 0;\n        const forwarded = request.headers.get(\"x-forwarded-for\") || \"\";\n        const ipFromHeader = forwarded.split(\",\")[0]?.trim() || null;\n        const uaFromHeader = request.headers.get(\"user-agent\") || null;\n        const coercedSignedAt = signedAt ? new Date(signedAt) : status === \"submitted\" ? new Date() : null;\n        // Prepare data for Prisma - same structure as main API but with draft status\n        const prismaData = {\n            // Individual columns (assign explicitly — never skip)\n            signatureType: signatureType ?? null,\n            signatureFilePath: signatureFilePath ?? null,\n            signatureFileName: signatureFileName ?? null,\n            completedByName: completedByName ?? null,\n            // ✅ verification (explicit, with server fallbacks)\n            signedAt: coercedSignedAt,\n            ipAddress: ipAddress ?? ipFromHeader ?? null,\n            userAgent: userAgent ?? uaFromHeader ?? null,\n            // JSON fields\n            ...companyNames && {\n                companyNames\n            },\n            ...relevantIndividuals && {\n                relevantIndividuals\n            },\n            ...sourceOfFunds && {\n                sourceOfFunds\n            },\n            ...recordsLocation && {\n                recordsLocation\n            },\n            ...declaration && {\n                declaration\n            },\n            ...shareholders && {\n                shareholders\n            },\n            ...directors && {\n                directors\n            },\n            // Simple fields\n            ...jurisdiction && {\n                jurisdiction\n            },\n            ...purposeOfCompany && {\n                purposeOfCompany\n            },\n            ...geographicProfile && {\n                geographicProfile\n            },\n            ...authorizedShares && {\n                authorizedShares\n            },\n            ...sharesParValue && {\n                sharesParValue\n            },\n            ...currency && {\n                currency\n            },\n            ...customShares && {\n                customShares\n            },\n            ...customParValue && {\n                customParValue\n            },\n            ...complexStructureNotes && {\n                complexStructureNotes\n            },\n            ...orderSeal !== undefined && {\n                orderSeal\n            },\n            ...sealQuantity && {\n                sealQuantity\n            },\n            ...requiresNomineeShareholder !== undefined && {\n                requiresNomineeShareholder\n            },\n            ...requiresNomineeDirector !== undefined && {\n                requiresNomineeDirector\n            },\n            needsRegisteredOffice,\n            officeLocation,\n            registeredOfficeFeeHKD,\n            status,\n            updatedAt: new Date()\n        };\n        // Check if record exists\n        const existingRecord = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.findUnique({\n            where: {\n                onboardingId\n            }\n        });\n        let result;\n        if (existingRecord) {\n            // Update existing record\n            result = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.update({\n                where: {\n                    onboardingId\n                },\n                data: prismaData\n            });\n        } else {\n            // Create new record\n            result = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.create({\n                data: {\n                    onboardingId,\n                    ...prismaData\n                }\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: result\n        });\n    } catch (error) {\n        console.error(\"Save draft error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to save draft\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function GET(request) {\n    try {\n        const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const onboardingId = searchParams.get(\"onboardingId\");\n        if (!onboardingId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"onboardingId is required\"\n            }, {\n                status: 400\n            });\n        }\n        const draft = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.findUnique({\n            where: {\n                onboardingId\n            }\n        });\n        if (!draft) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                success: true,\n                data: null\n            });\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            data: draft\n        });\n    } catch (error) {\n        console.error(\"Load draft error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to load draft\"\n        }, {\n            status: 500\n        });\n    }\n}\nasync function DELETE(request) {\n    try {\n        const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\n        if (!session?.user?.email) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { searchParams } = new URL(request.url);\n        const onboardingId = searchParams.get(\"onboardingId\");\n        if (!onboardingId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"onboardingId is required\"\n            }, {\n                status: 400\n            });\n        }\n        // Check if record exists\n        const existingRecord = await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.findUnique({\n            where: {\n                onboardingId\n            }\n        });\n        if (!existingRecord) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Draft not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Delete the draft\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_2__.prisma.companyIncorporation.delete({\n            where: {\n                onboardingId\n            }\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            success: true,\n            message: \"Draft deleted successfully\"\n        });\n    } catch (error) {\n        console.error(\"Delete draft error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to delete draft\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2NvbXBhbnktaW5jb3Jwb3JhdGlvbi9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBQSx5Q0FBeUM7QUFDYztBQUN0QjtBQUNJO0FBRTlCLGVBQWVHLEtBQUtDLE9BQW9CO0lBQzdDLElBQUk7UUFDRixNQUFNQyxVQUFVLE1BQU1KLCtDQUFJQTtRQUUxQixJQUFJLENBQUNJLFNBQVNDLE1BQU1DLE9BQU87WUFDekIsT0FBT1AscURBQVlBLENBQUNRLElBQUksQ0FBQztnQkFBRUMsT0FBTztZQUFlLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUNwRTtRQUVBLE1BQU1DLE9BQU8sTUFBTVAsUUFBUUksSUFBSTtRQUMvQixNQUFNLEVBQUVJLFlBQVksRUFBRSxHQUFHQyxVQUFVLEdBQUdGO1FBRXRDLElBQUksQ0FBQ0MsY0FBYztZQUNqQixPQUFPWixxREFBWUEsQ0FBQ1EsSUFBSSxDQUN0QjtnQkFBRUMsT0FBTztZQUEyQixHQUNwQztnQkFBRUMsUUFBUTtZQUFJO1FBRWxCO1FBRUEseUVBQXlFO1FBQ3pFLE1BQU0sRUFDSixpREFBaUQ7UUFDakRJLGFBQWEsRUFDYkMsaUJBQWlCLEVBQ2pCQyxpQkFBaUIsRUFDakJDLGVBQWUsRUFDZkMsUUFBUSxFQUNSQyxTQUFTLEVBQ1RDLFNBQVMsRUFFVCx1Q0FBdUM7UUFDdkNDLFlBQVksRUFDWkMsbUJBQW1CLEVBQ25CQyxhQUFhLEVBQ2JDLGVBQWUsRUFDZkMsV0FBVyxFQUNYQywwQkFBMEIsRUFDMUJDLFlBQVksRUFDWkMsdUJBQXVCLEVBQ3ZCQyxTQUFTLEVBQ1RDLGdCQUFnQixFQUNoQkMsaUJBQWlCLEVBQ2pCQyxnQkFBZ0IsRUFDaEJDLGNBQWMsRUFDZEMsUUFBUSxFQUNSQyxZQUFZLEVBQ1pDLGNBQWMsRUFDZEMscUJBQXFCLEVBQ3JCQyxTQUFTLEVBQ1RDLFlBQVksRUFDWkMsWUFBWSxFQUNaOUIsU0FBUyxPQUFPLEVBQ2pCLEdBQUdHO1FBRUosTUFBTTRCLHdCQUF3QkMs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QUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2FwcC9hcGkvY29tcGFueS1pbmNvcnBvcmF0aW9uL3JvdXRlLnRzP2I3ZTAiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9jb21wYW55LWluY29ycG9yYXRpb24vcm91dGUudHNcbmltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcidcbmltcG9ydCB7IGF1dGggfSBmcm9tICdAL2xpYi9hdXRoJ1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gUE9TVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKClcbiAgICBcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGRhdGEgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKVxuICAgIGNvbnN0IHsgb25ib2FyZGluZ0lkLCAuLi5mb3JtRGF0YSB9ID0gZGF0YVxuXG4gICAgaWYgKCFvbmJvYXJkaW5nSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ29uYm9hcmRpbmdJZCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gRXh0cmFjdCBpbmRpdmlkdWFsIGNvbHVtbnMgZnJvbSBmb3JtIGRhdGEgKHNhbWUgc3RydWN0dXJlIGFzIG1haW4gQVBJKVxuICAgIGNvbnN0IHtcbiAgICAgIC8vIEluZGl2aWR1YWwgY29sdW1ucyAod2lsbCBiZSBzdG9yZWQgc2VwYXJhdGVseSlcbiAgICAgIHNpZ25hdHVyZVR5cGUsXG4gICAgICBzaWduYXR1cmVGaWxlUGF0aCxcbiAgICAgIHNpZ25hdHVyZUZpbGVOYW1lLFxuICAgICAgY29tcGxldGVkQnlOYW1lLFxuICAgICAgc2lnbmVkQXQsXG4gICAgICBpcEFkZHJlc3MsXG4gICAgICB1c2VyQWdlbnQsXG4gICAgICBcbiAgICAgIC8vIEpTT04gZmllbGRzICh3aWxsIGJlIHN0b3JlZCBhcyBKU09OKVxuICAgICAgY29tcGFueU5hbWVzLFxuICAgICAgcmVsZXZhbnRJbmRpdmlkdWFscyxcbiAgICAgIHNvdXJjZU9mRnVuZHMsXG4gICAgICByZWNvcmRzTG9jYXRpb24sXG4gICAgICBkZWNsYXJhdGlvbixcbiAgICAgIHJlcXVpcmVzTm9taW5lZVNoYXJlaG9sZGVyLFxuICAgICAgc2hhcmVob2xkZXJzLFxuICAgICAgcmVxdWlyZXNOb21pbmVlRGlyZWN0b3IsXG4gICAgICBkaXJlY3RvcnMsXG4gICAgICBwdXJwb3NlT2ZDb21wYW55LFxuICAgICAgZ2VvZ3JhcGhpY1Byb2ZpbGUsXG4gICAgICBhdXRob3JpemVkU2hhcmVzLFxuICAgICAgc2hhcmVzUGFyVmFsdWUsXG4gICAgICBjdXJyZW5jeSxcbiAgICAgIGN1c3RvbVNoYXJlcyxcbiAgICAgIGN1c3RvbVBhclZhbHVlLFxuICAgICAgY29tcGxleFN0cnVjdHVyZU5vdGVzLFxuICAgICAgb3JkZXJTZWFsLFxuICAgICAgc2VhbFF1YW50aXR5LFxuICAgICAganVyaXNkaWN0aW9uLFxuICAgICAgc3RhdHVzID0gJ2RyYWZ0J1xuICAgIH0gPSBmb3JtRGF0YVxuXG4gICAgY29uc3QgbmVlZHNSZWdpc3RlcmVkT2ZmaWNlID0gQm9vbGVhbihzb3VyY2VPZkZ1bmRzPy5uZWVkc1JlZ2lzdGVyZWRPZmZpY2UpXG4gICAgY29uc3Qgb2ZmaWNlTG9jYXRpb24gPSBuZWVkc1JlZ2lzdGVyZWRPZmZpY2UgPyBudWxsIDogKHNvdXJjZU9mRnVuZHM/Lm9mZmljZUxvY2F0aW9uID8/IG51bGwpXG4gICAgY29uc3QgcmVnaXN0ZXJlZE9mZmljZUZlZUhLRCA9IG5lZWRzUmVnaXN0ZXJlZE9mZmljZSA/IDE1MDAgOiAwXG5cbiAgICBjb25zdCBmb3J3YXJkZWQgPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KCd4LWZvcndhcmRlZC1mb3InKSB8fCAnJ1xuICAgIGNvbnN0IGlwRnJvbUhlYWRlciA9IGZvcndhcmRlZC5zcGxpdCgnLCcpWzBdPy50cmltKCkgfHwgbnVsbFxuICAgIGNvbnN0IHVhRnJvbUhlYWRlciA9IHJlcXVlc3QuaGVhZGVycy5nZXQoJ3VzZXItYWdlbnQnKSB8fCBudWxsXG5cbiAgICBjb25zdCBjb2VyY2VkU2lnbmVkQXQgPVxuICAgIHNpZ25lZEF0ID8gbmV3IERhdGUoc2lnbmVkQXQpIDogKHN0YXR1cyA9PT0gJ3N1Ym1pdHRlZCcgPyBuZXcgRGF0ZSgpIDogbnVsbClcblxuICAgIC8vIFByZXBhcmUgZGF0YSBmb3IgUHJpc21hIC0gc2FtZSBzdHJ1Y3R1cmUgYXMgbWFpbiBBUEkgYnV0IHdpdGggZHJhZnQgc3RhdHVzXG4gICAgY29uc3QgcHJpc21hRGF0YTogYW55ID0ge1xuICAgICAgLy8gSW5kaXZpZHVhbCBjb2x1bW5zIChhc3NpZ24gZXhwbGljaXRseSDigJQgbmV2ZXIgc2tpcClcbiAgICAgIHNpZ25hdHVyZVR5cGU6IHNpZ25hdHVyZVR5cGUgPz8gbnVsbCxcbiAgICAgIHNpZ25hdHVyZUZpbGVQYXRoOiBzaWduYXR1cmVGaWxlUGF0aCA/PyBudWxsLFxuICAgICAgc2lnbmF0dXJlRmlsZU5hbWU6IHNpZ25hdHVyZUZpbGVOYW1lID8/IG51bGwsXG4gICAgICBjb21wbGV0ZWRCeU5hbWU6IGNvbXBsZXRlZEJ5TmFtZSA/PyBudWxsLFxuXG4gICAgICAvLyDinIUgdmVyaWZpY2F0aW9uIChleHBsaWNpdCwgd2l0aCBzZXJ2ZXIgZmFsbGJhY2tzKVxuICAgICAgc2lnbmVkQXQ6IGNvZXJjZWRTaWduZWRBdCwgICAgICAgICAgICAgICAgICAgICAvLyBEYXRlIHwgbnVsbFxuICAgICAgaXBBZGRyZXNzOiAoaXBBZGRyZXNzID8/IGlwRnJvbUhlYWRlcikgPz8gbnVsbCxcbiAgICAgIHVzZXJBZ2VudDogKHVzZXJBZ2VudCA/PyB1YUZyb21IZWFkZXIpID8/IG51bGwsXG4gICAgICBcbiAgICAgIC8vIEpTT04gZmllbGRzXG4gICAgICAuLi4oY29tcGFueU5hbWVzICYmIHsgY29tcGFueU5hbWVzIH0pLFxuICAgICAgLi4uKHJlbGV2YW50SW5kaXZpZHVhbHMgJiYgeyByZWxldmFudEluZGl2aWR1YWxzIH0pLFxuICAgICAgLi4uKHNvdXJjZU9mRnVuZHMgJiYgeyBzb3VyY2VPZkZ1bmRzIH0pLFxuICAgICAgLi4uKHJlY29yZHNMb2NhdGlvbiAmJiB7IHJlY29yZHNMb2NhdGlvbiB9KSxcbiAgICAgIC4uLihkZWNsYXJhdGlvbiAmJiB7IGRlY2xhcmF0aW9uIH0pLFxuICAgICAgLi4uKHNoYXJlaG9sZGVycyAmJiB7IHNoYXJlaG9sZGVycyB9KSxcbiAgICAgIC4uLihkaXJlY3RvcnMgJiYgeyBkaXJlY3RvcnMgfSksXG4gICAgICBcbiAgICAgIC8vIFNpbXBsZSBmaWVsZHNcbiAgICAgIC4uLihqdXJpc2RpY3Rpb24gJiYgeyBqdXJpc2RpY3Rpb24gfSksXG4gICAgICAuLi4ocHVycG9zZU9mQ29tcGFueSAmJiB7IHB1cnBvc2VPZkNvbXBhbnkgfSksXG4gICAgICAuLi4oZ2VvZ3JhcGhpY1Byb2ZpbGUgJiYgeyBnZW9ncmFwaGljUHJvZmlsZSB9KSxcbiAgICAgIC4uLihhdXRob3JpemVkU2hhcmVzICYmIHsgYXV0aG9yaXplZFNoYXJlcyB9KSxcbiAgICAgIC4uLihzaGFyZXNQYXJWYWx1ZSAmJiB7IHNoYXJlc1BhclZhbHVlIH0pLFxuICAgICAgLi4uKGN1cnJlbmN5ICYmIHsgY3VycmVuY3kgfSksXG4gICAgICAuLi4oY3VzdG9tU2hhcmVzICYmIHsgY3VzdG9tU2hhcmVzIH0pLFxuICAgICAgLi4uKGN1c3RvbVBhclZhbHVlICYmIHsgY3VzdG9tUGFyVmFsdWUgfSksXG4gICAgICAuLi4oY29tcGxleFN0cnVjdHVyZU5vdGVzICYmIHsgY29tcGxleFN0cnVjdHVyZU5vdGVzIH0pLFxuICAgICAgLi4uKG9yZGVyU2VhbCAhPT0gdW5kZWZpbmVkICYmIHsgb3JkZXJTZWFsIH0pLFxuICAgICAgLi4uKHNlYWxRdWFudGl0eSAmJiB7IHNlYWxRdWFudGl0eSB9KSxcbiAgICAgIC4uLihyZXF1aXJlc05vbWluZWVTaGFyZWhvbGRlciAhPT0gdW5kZWZpbmVkICYmIHsgcmVxdWlyZXNOb21pbmVlU2hhcmVob2xkZXIgfSksXG4gICAgICAuLi4ocmVxdWlyZXNOb21pbmVlRGlyZWN0b3IgIT09IHVuZGVmaW5lZCAmJiB7IHJlcXVpcmVzTm9taW5lZURpcmVjdG9yIH0pLFxuXG4gICAgICBuZWVkc1JlZ2lzdGVyZWRPZmZpY2UsXG4gICAgICBvZmZpY2VMb2NhdGlvbixcbiAgICAgIHJlZ2lzdGVyZWRPZmZpY2VGZWVIS0QsXG4gICAgICBcbiAgICAgIHN0YXR1cyxcbiAgICAgIHVwZGF0ZWRBdDogbmV3IERhdGUoKVxuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHJlY29yZCBleGlzdHNcbiAgICBjb25zdCBleGlzdGluZ1JlY29yZCA9IGF3YWl0IHByaXNtYS5jb21wYW55SW5jb3Jwb3JhdGlvbi5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IG9uYm9hcmRpbmdJZCB9XG4gICAgfSlcblxuICAgIGxldCByZXN1bHQ7XG4gICAgaWYgKGV4aXN0aW5nUmVjb3JkKSB7XG4gICAgICAvLyBVcGRhdGUgZXhpc3RpbmcgcmVjb3JkXG4gICAgICByZXN1bHQgPSBhd2FpdCBwcmlzbWEuY29tcGFueUluY29ycG9yYXRpb24udXBkYXRlKHtcbiAgICAgICAgd2hlcmU6IHsgb25ib2FyZGluZ0lkIH0sXG4gICAgICAgIGRhdGE6IHByaXNtYURhdGFcbiAgICAgIH0pXG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIENyZWF0ZSBuZXcgcmVjb3JkXG4gICAgICByZXN1bHQgPSBhd2FpdCBwcmlzbWEuY29tcGFueUluY29ycG9yYXRpb24uY3JlYXRlKHtcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIG9uYm9hcmRpbmdJZCxcbiAgICAgICAgICAuLi5wcmlzbWFEYXRhXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignU2F2ZSBkcmFmdCBlcnJvcjonLCBlcnJvcilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IGVycm9yOiAnRmFpbGVkIHRvIHNhdmUgZHJhZnQnIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApXG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKClcbiAgICBcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmVtYWlsKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKVxuICAgIGNvbnN0IG9uYm9hcmRpbmdJZCA9IHNlYXJjaFBhcmFtcy5nZXQoJ29uYm9hcmRpbmdJZCcpXG5cbiAgICBpZiAoIW9uYm9hcmRpbmdJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnb25ib2FyZGluZ0lkIGlzIHJlcXVpcmVkJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgIClcbiAgICB9XG5cbiAgICBjb25zdCBkcmFmdCA9IGF3YWl0IHByaXNtYS5jb21wYW55SW5jb3Jwb3JhdGlvbi5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IG9uYm9hcmRpbmdJZCB9XG4gICAgfSlcblxuICAgIGlmICghZHJhZnQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IFxuICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICBkYXRhOiBudWxsIFxuICAgICAgfSlcbiAgICB9XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGRyYWZ0XG4gICAgfSlcblxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0xvYWQgZHJhZnQgZXJyb3I6JywgZXJyb3IpXG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogJ0ZhaWxlZCB0byBsb2FkIGRyYWZ0JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgYXV0aCgpXG4gICAgXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5lbWFpbCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdVbmF1dGhvcml6ZWQnIH0sIHsgc3RhdHVzOiA0MDEgfSlcbiAgICB9XG5cbiAgICBjb25zdCB7IHNlYXJjaFBhcmFtcyB9ID0gbmV3IFVSTChyZXF1ZXN0LnVybClcbiAgICBjb25zdCBvbmJvYXJkaW5nSWQgPSBzZWFyY2hQYXJhbXMuZ2V0KCdvbmJvYXJkaW5nSWQnKVxuXG4gICAgaWYgKCFvbmJvYXJkaW5nSWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ29uYm9hcmRpbmdJZCBpcyByZXF1aXJlZCcgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApXG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgcmVjb3JkIGV4aXN0c1xuICAgIGNvbnN0IGV4aXN0aW5nUmVjb3JkID0gYXdhaXQgcHJpc21hLmNvbXBhbnlJbmNvcnBvcmF0aW9uLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgb25ib2FyZGluZ0lkIH1cbiAgICB9KVxuXG4gICAgaWYgKCFleGlzdGluZ1JlY29yZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnRHJhZnQgbm90IGZvdW5kJyB9LFxuICAgICAgICB7IHN0YXR1czogNDA0IH1cbiAgICAgIClcbiAgICB9XG5cbiAgICAvLyBEZWxldGUgdGhlIGRyYWZ0XG4gICAgYXdhaXQgcHJpc21hLmNvbXBhbnlJbmNvcnBvcmF0aW9uLmRlbGV0ZSh7XG4gICAgICB3aGVyZTogeyBvbmJvYXJkaW5nSWQgfVxuICAgIH0pXG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIG1lc3NhZ2U6ICdEcmFmdCBkZWxldGVkIHN1Y2Nlc3NmdWxseSdcbiAgICB9KVxuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGVsZXRlIGRyYWZ0IGVycm9yOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgZXJyb3I6ICdGYWlsZWQgdG8gZGVsZXRlIGRyYWZ0JyB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKVxuICB9XG59Il0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImF1dGgiLCJwcmlzbWEiLCJQT1NUIiwicmVxdWVzdCIsInNlc3Npb24iLCJ1c2VyIiwiZW1haWwiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJkYXRhIiwib25ib2FyZGluZ0lkIiwiZm9ybURhdGEiLCJzaWduYXR1cmVUeXBlIiwic2lnbmF0dXJlRmlsZVBhdGgiLCJzaWduYXR1cmVGaWxlTmFtZSIsImNvbXBsZXRlZEJ5TmFtZSIsInNpZ25lZEF0IiwiaXBBZGRyZXNzIiwidXNlckFnZW50IiwiY29tcGFueU5hbWVzIiwicmVsZXZhbnRJbmRpdmlkdWFscyIsInNvdXJjZU9mRnVuZHMiLCJyZWNvcmRzTG9jYXRpb24iLCJkZWNsYXJhdGlvbiIsInJlcXVpcmVzTm9taW5lZVNoYXJlaG9sZGVyIiwic2hhcmVob2xkZXJzIiwicmVxdWlyZXNOb21pbmVlRGlyZWN0b3IiLCJkaXJlY3RvcnMiLCJwdXJwb3NlT2ZDb21wYW55IiwiZ2VvZ3JhcGhpY1Byb2ZpbGUiLCJhdXRob3JpemVkU2hhcmVzIiwic2hhcmVzUGFyVmFsdWUiLCJjdXJyZW5jeSIsImN1c3RvbVNoYXJlcyIsImN1c3RvbVBhclZhbHVlIiwiY29tcGxleFN0cnVjdHVyZU5vdGVzIiwib3JkZXJTZWFsIiwic2VhbFF1YW50aXR5IiwianVyaXNkaWN0aW9uIiwibmVlZHNSZWdpc3RlcmVkT2ZmaWNlIiwiQm9vbGVhbiIsIm9mZmljZUxvY2F0aW9uIiwicmVnaXN0ZXJlZE9mZmljZUZlZUhLRCIsImZvcndhcmRlZCIsImhlYWRlcnMiLCJnZXQiLCJpcEZyb21IZWFkZXIiLCJzcGxpdCIsInRyaW0iLCJ1YUZyb21IZWFkZXIiLCJjb2VyY2VkU2lnbmVkQXQiLCJEYXRlIiwicHJpc21hRGF0YSIsInVuZGVmaW5lZCIsInVwZGF0ZWRBdCIsImV4aXN0aW5nUmVjb3JkIiwiY29tcGFueUluY29ycG9yYXRpb24iLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJyZXN1bHQiLCJ1cGRhdGUiLCJjcmVhdGUiLCJzdWNjZXNzIiwiY29uc29sZSIsIkdFVCIsInNlYXJjaFBhcmFtcyIsIlVSTCIsInVybCIsImRyYWZ0IiwiREVMRVRFIiwiZGVsZXRlIiwibWVzc2FnZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/company-incorporation/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth-utils.ts":
/*!***************************!*\
  !*** ./lib/auth-utils.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   verifyUser: () => (/* binding */ verifyUser)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n// lib/auth-utils.ts\n\n\nasync function registerUser(name, email, password, phone) {\n    try {\n        console.log(\"Registering user:\", email);\n        // Validate input\n        if (!name || !email || !password) {\n            throw new Error(\"All fields are required\");\n        }\n        if (password.length < 6) {\n            throw new Error(\"Password must be at least 6 characters\");\n        }\n        // Check if user exists\n        const existingUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        if (existingUser) {\n            throw new Error(\"User with this email already exists\");\n        }\n        // Hash password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 12);\n        // Create user\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n            data: {\n                name,\n                email,\n                password: hashedPassword\n            }\n        });\n        console.log(\"User registered successfully:\", user.id);\n        return {\n            id: user.id,\n            name: user.name,\n            email: user.email\n        };\n    } catch (error) {\n        console.error(\"Registration error:\", error);\n        throw error;\n    }\n}\nasync function verifyUser(email, password) {\n    try {\n        console.log(\"Verifying user:\", email);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        if (!user || !user.password) {\n            throw new Error(\"Invalid email or password\");\n        }\n        const passwordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(password, user.password);\n        if (!passwordValid) {\n            throw new Error(\"Invalid email or password\");\n        }\n        console.log(\"User verified successfully:\", user.id);\n        return {\n            id: user.id,\n            name: user.name,\n            email: user.email\n        };\n    } catch (error) {\n        console.error(\"Verification error:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC11dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsb0JBQW9CO0FBQ2lCO0FBQ1I7QUFFdEIsZUFBZUUsYUFBYUMsSUFBWSxFQUFFQyxLQUFhLEVBQUVDLFFBQWdCLEVBQUVDLEtBQWM7SUFDOUYsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUMscUJBQXFCSjtRQUVqQyxpQkFBaUI7UUFDakIsSUFBSSxDQUFDRCxRQUFRLENBQUNDLFNBQVMsQ0FBQ0MsVUFBVTtZQUNoQyxNQUFNLElBQUlJLE1BQU07UUFDbEI7UUFFQSxJQUFJSixTQUFTSyxNQUFNLEdBQUcsR0FBRztZQUN2QixNQUFNLElBQUlELE1BQU07UUFDbEI7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTUUsZUFBZSxNQUFNWCwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDaERDLE9BQU87Z0JBQUVWO1lBQU07UUFDakI7UUFFQSxJQUFJTyxjQUFjO1lBQ2hCLE1BQU0sSUFBSUYsTUFBTTtRQUNsQjtRQUVBLGdCQUFnQjtRQUNoQixNQUFNTSxpQkFBaUIsTUFBTWQscURBQVcsQ0FBQ0ksVUFBVTtRQUVuRCxjQUFjO1FBQ2QsTUFBTU8sT0FBTyxNQUFNWiwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDSyxNQUFNLENBQUM7WUFDcENDLE1BQU07Z0JBQ0pmO2dCQUNBQztnQkFDQUMsVUFBVVU7WUFDWjtRQUNGO1FBRUFSLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNJLEtBQUtPLEVBQUU7UUFDcEQsT0FBTztZQUFFQSxJQUFJUCxLQUFLTyxFQUFFO1lBQUVoQixNQUFNUyxLQUFLVCxJQUFJO1lBQUVDLE9BQU9RLEtBQUtSLEtBQUs7UUFBQTtJQUUxRCxFQUFFLE9BQU9nQixPQUFPO1FBQ2RiLFFBQVFhLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVDLFdBQVdqQixLQUFhLEVBQUVDLFFBQWdCO0lBQzlELElBQUk7UUFDRkUsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQko7UUFFL0IsTUFBTVEsT0FBTyxNQUFNWiwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDeENDLE9BQU87Z0JBQUVWO1lBQU07UUFDakI7UUFFQSxJQUFJLENBQUNRLFFBQVEsQ0FBQ0EsS0FBS1AsUUFBUSxFQUFFO1lBQzNCLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUVBLE1BQU1hLGdCQUFnQixNQUFNckIsd0RBQWMsQ0FBQ0ksVUFBVU8sS0FBS1AsUUFBUTtRQUVsRSxJQUFJLENBQUNpQixlQUFlO1lBQ2xCLE1BQU0sSUFBSWIsTUFBTTtRQUNsQjtRQUVBRixRQUFRQyxHQUFHLENBQUMsK0JBQStCSSxLQUFLTyxFQUFFO1FBQ2xELE9BQU87WUFBRUEsSUFBSVAsS0FBS08sRUFBRTtZQUFFaEIsTUFBTVMsS0FBS1QsSUFBSTtZQUFFQyxPQUFPUSxLQUFLUixLQUFLO1FBQUM7SUFFM0QsRUFBRSxPQUFPZ0IsT0FBTztRQUNkYixRQUFRYSxLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2F1dGgtdXRpbHMudHM/MzgxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYXV0aC11dGlscy50c1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJ1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHBob25lPzogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyaW5nIHVzZXI6JywgZW1haWwpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnKVxuICAgIH1cblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA2KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzJylcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGV4aXN0c1xuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgZW1haWwgfVxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJylcbiAgICB9XG5cbiAgICAvLyBIYXNoIHBhc3N3b3JkXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTIpXG5cbiAgICAvLyBDcmVhdGUgdXNlclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseTonLCB1c2VyLmlkKTtcbiAgICByZXR1cm4geyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lLCBlbWFpbDogdXNlci5lbWFpbH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWdpc3RyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlVc2VyKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIHVzZXI6JywgZW1haWwpO1xuICAgIFxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsIH1cbiAgICB9KVxuXG4gICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnKVxuICAgIH1cblxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcblxuICAgIGlmICghcGFzc3dvcmRWYWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJylcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnVXNlciB2ZXJpZmllZCBzdWNjZXNzZnVsbHk6JywgdXNlci5pZCk7XG4gICAgcmV0dXJuIHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSwgZW1haWw6IHVzZXIuZW1haWwgfVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn0iXSwibmFtZXMiOlsicHJpc21hIiwiYmNyeXB0IiwicmVnaXN0ZXJVc2VyIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwaG9uZSIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsImxlbmd0aCIsImV4aXN0aW5nVXNlciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJjcmVhdGUiLCJkYXRhIiwiaWQiLCJlcnJvciIsInZlcmlmeVVzZXIiLCJwYXNzd29yZFZhbGlkIiwiY29tcGFyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth-utils */ \"(rsc)/./lib/auth-utils.ts\");\n// lib/auth.ts\n\n\n\nconst { handlers, auth, signIn, signOut } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        return null;\n                    }\n                    const user = await (0,_lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__.verifyUser)(credentials.email, credentials.password);\n                    return user;\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.email = user.email;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.id;\n                session.user.email = token.email;\n            }\n            return session;\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsY0FBYztBQUNrQjtBQUN5QjtBQUNaO0FBRXRDLE1BQU0sRUFBRUcsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdOLHFEQUFRQSxDQUFDO0lBQzFETyxXQUFXO1FBQ1ROLDJFQUFXQSxDQUFDO1lBQ1ZPLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJO29CQUNGLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO3dCQUNqRCxPQUFPO29CQUNUO29CQUVBLE1BQU1FLE9BQU8sTUFBTWIsMkRBQVVBLENBQzNCTyxZQUFZQyxLQUFLLEVBQ2pCRCxZQUFZSSxRQUFRO29CQUd0QixPQUFPRTtnQkFDVCxFQUFFLE9BQU9DLE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxlQUFlQTtvQkFDN0IsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7S0FDRDtJQUNERSxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xmLFFBQVE7SUFDVjtJQUNBZ0IsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFUixJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlEsTUFBTUMsRUFBRSxHQUFHVCxLQUFLUyxFQUFFO2dCQUNsQkQsTUFBTWIsS0FBSyxHQUFHSyxLQUFLTCxLQUFLO1lBQzFCO1lBQ0EsT0FBT2E7UUFDVDtRQUNBLE1BQU1MLFNBQVEsRUFBRUEsT0FBTyxFQUFFSyxLQUFLLEVBQUU7WUFDOUIsSUFBSUEsU0FBU0wsUUFBUUgsSUFBSSxFQUFFO2dCQUN6QkcsUUFBUUgsSUFBSSxDQUFDUyxFQUFFLEdBQUdELE1BQU1DLEVBQUU7Z0JBQzFCTixRQUFRSCxJQUFJLENBQUNMLEtBQUssR0FBR2EsTUFBTWIsS0FBSztZQUNsQztZQUNBLE9BQU9RO1FBQ1Q7SUFDRjtBQUNGLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYXV0aC50c1xuaW1wb3J0IE5leHRBdXRoIGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCBDcmVkZW50aWFscyBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJ1xuaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJ0AvbGliL2F1dGgtdXRpbHMnXG5cbmV4cG9ydCBjb25zdCB7IGhhbmRsZXJzLCBhdXRoLCBzaWduSW4sIHNpZ25PdXQgfSA9IE5leHRBdXRoKHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHMoe1xuICAgICAgbmFtZTogJ2NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiAnUGFzc3dvcmQnLCB0eXBlOiAncGFzc3dvcmQnIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB2ZXJpZnlVc2VyKFxuICAgICAgICAgICAgY3JlZGVudGlhbHMuZW1haWwgYXMgc3RyaW5nLFxuICAgICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQgYXMgc3RyaW5nXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gIH0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nXG4gICAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IHRva2VuLmVtYWlsIGFzIHN0cmluZ1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICB9LFxuICB9LFxufSkiXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFscyIsInZlcmlmeVVzZXIiLCJoYW5kbGVycyIsImF1dGgiLCJzaWduSW4iLCJzaWduT3V0IiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJwYWdlcyIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\nif (true) globalForPrisma.prisma = prisma;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM2QjtBQUU3QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQVNGLGdCQUFnQkUsTUFBTSxJQUFJLElBQUlILHdEQUFZQSxHQUFFO0FBRWxFLElBQUlJLElBQXlCLEVBQWNILGdCQUFnQkUsTUFBTSxHQUFHQSIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9saWIvcHJpc21hLnRzPzk4MjIiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gbGliL3ByaXNtYS50c1xuaW1wb3J0IHsgUHJpc21hQ2xpZW50IH0gZnJvbSAnQHByaXNtYS9jbGllbnQnXG5cbmNvbnN0IGdsb2JhbEZvclByaXNtYSA9IGdsb2JhbFRoaXMgYXMgdW5rbm93biBhcyB7XG4gIHByaXNtYTogUHJpc21hQ2xpZW50IHwgdW5kZWZpbmVkXG59XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPSBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/IG5ldyBQcmlzbWFDbGllbnQoKVxuXG5pZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJykgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYSJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/jose","vendor-chunks/oauth4webapi","vendor-chunks/bcryptjs","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/@panva"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fcompany-incorporation%2Froute&page=%2Fapi%2Fcompany-incorporation%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fcompany-incorporation%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();