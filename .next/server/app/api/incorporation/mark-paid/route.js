"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/incorporation/mark-paid/route";
exports.ids = ["app/api/incorporation/mark-paid/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "../../client/components/action-async-storage.external":
/*!*******************************************************************************!*\
  !*** external "next/dist/client/components/action-async-storage.external.js" ***!
  \*******************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/action-async-storage.external.js");

/***/ }),

/***/ "../../client/components/request-async-storage.external":
/*!********************************************************************************!*\
  !*** external "next/dist/client/components/request-async-storage.external.js" ***!
  \********************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/request-async-storage.external.js");

/***/ }),

/***/ "../../client/components/static-generation-async-storage.external":
/*!******************************************************************************************!*\
  !*** external "next/dist/client/components/static-generation-async-storage.external.js" ***!
  \******************************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/client/components/static-generation-async-storage.external.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "node:crypto":
/*!******************************!*\
  !*** external "node:crypto" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("node:crypto");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fincorporation%2Fmark-paid%2Froute&page=%2Fapi%2Fincorporation%2Fmark-paid%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fincorporation%2Fmark-paid%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fincorporation%2Fmark-paid%2Froute&page=%2Fapi%2Fincorporation%2Fmark-paid%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fincorporation%2Fmark-paid%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_phraewaphuriyaphan_Desktop_Synergy_pa_sg_app_api_incorporation_mark_paid_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/incorporation/mark-paid/route.ts */ \"(rsc)/./app/api/incorporation/mark-paid/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/incorporation/mark-paid/route\",\n        pathname: \"/api/incorporation/mark-paid\",\n        filename: \"route\",\n        bundlePath: \"app/api/incorporation/mark-paid/route\"\n    },\n    resolvedPagePath: \"/Users/phraewaphuriyaphan/Desktop/Synergy_pa_sg/app/api/incorporation/mark-paid/route.ts\",\n    nextConfigOutput,\n    userland: _Users_phraewaphuriyaphan_Desktop_Synergy_pa_sg_app_api_incorporation_mark_paid_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/incorporation/mark-paid/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZpbmNvcnBvcmF0aW9uJTJGbWFyay1wYWlkJTJGcm91dGUmcGFnZT0lMkZhcGklMkZpbmNvcnBvcmF0aW9uJTJGbWFyay1wYWlkJTJGcm91dGUmYXBwUGF0aHM9JnBhZ2VQYXRoPXByaXZhdGUtbmV4dC1hcHAtZGlyJTJGYXBpJTJGaW5jb3Jwb3JhdGlvbiUyRm1hcmstcGFpZCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3BhX3NnJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3BhX3NnJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUN3QztBQUNySDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvPzM5NjciXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3BocmFld2FwaHVyaXlhcGhhbi9EZXNrdG9wL1N5bmVyZ3lfcGFfc2cvYXBwL2FwaS9pbmNvcnBvcmF0aW9uL21hcmstcGFpZC9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvaW5jb3Jwb3JhdGlvbi9tYXJrLXBhaWQvcm91dGVcIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9pbmNvcnBvcmF0aW9uL21hcmstcGFpZFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvaW5jb3Jwb3JhdGlvbi9tYXJrLXBhaWQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvcGhyYWV3YXBodXJpeWFwaGFuL0Rlc2t0b3AvU3luZXJneV9wYV9zZy9hcHAvYXBpL2luY29ycG9yYXRpb24vbWFyay1wYWlkL3JvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MgfSA9IHJvdXRlTW9kdWxlO1xuY29uc3Qgb3JpZ2luYWxQYXRobmFtZSA9IFwiL2FwaS9pbmNvcnBvcmF0aW9uL21hcmstcGFpZC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fincorporation%2Fmark-paid%2Froute&page=%2Fapi%2Fincorporation%2Fmark-paid%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fincorporation%2Fmark-paid%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/incorporation/mark-paid/route.ts":
/*!**************************************************!*\
  !*** ./app/api/incorporation/mark-paid/route.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   maxDuration: () => (/* binding */ maxDuration),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth */ \"(rsc)/./lib/auth.ts\");\n/* harmony import */ var _lib_orders__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/orders */ \"(rsc)/./lib/orders.ts\");\n/* harmony import */ var _lib_mailer__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/lib/mailer */ \"(rsc)/./lib/mailer.ts\");\n// app/api/incorporation/mark-paid/route.ts\n\n\n\n\n // ✅ optional: send confirmation safely\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nconst maxDuration = 60;\nasync function POST(req) {\n    try {\n        const session = await (0,_lib_auth__WEBPACK_IMPORTED_MODULE_2__.auth)();\n        if (!session?.user?.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Unauthorized\"\n            }, {\n                status: 401\n            });\n        }\n        const { onboardingId } = await req.json().catch(()=>({}));\n        if (!onboardingId) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Missing onboardingId\"\n            }, {\n                status: 400\n            });\n        }\n        // ✅ Verify the onboarding belongs to the caller\n        const ob = await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.clientOnboarding.findUnique({\n            where: {\n                id: onboardingId\n            },\n            select: {\n                userId: true\n            }\n        });\n        if (!ob || ob.userId !== session.user.id) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Forbidden\"\n            }, {\n                status: 403\n            });\n        }\n        // ✅ Flip the pending order → paid\n        const updatedOrder = await (0,_lib_orders__WEBPACK_IMPORTED_MODULE_3__.markOrderPaidByOnboarding)(onboardingId).catch((e)=>{\n            console.error(\"[mark-paid] markOrderPaidByOnboarding failed:\", e);\n            return null;\n        });\n        if (!updatedOrder) {\n            // ✅ No pending order exists for this onboarding\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"No pending order to mark paid\"\n            }, {\n                status: 400\n            });\n        }\n        // ✅ Mark the incorporation record as paid (if it exists)\n        await _lib_prisma__WEBPACK_IMPORTED_MODULE_1__.prisma.companyIncorporation.updateMany({\n            where: {\n                onboardingId\n            },\n            data: {\n                status: \"paid\"\n            }\n        });\n        // ✅ Optional: send confirmation email (safe even if no provider)\n        try {\n            await (0,_lib_mailer__WEBPACK_IMPORTED_MODULE_4__.sendEmail)({\n                to: session.user.email,\n                subject: \"Order marked as paid\",\n                html: `<p>Your order for ${updatedOrder.jurisdiction || \"your company\"} has been marked as paid.</p>`\n            });\n        } catch (err) {\n            console.warn(\"[mark-paid] Email send failed, continuing:\", err);\n        }\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            ok: true\n        });\n    } catch (err) {\n        console.error(\"[mark-paid] Unexpected error:\", err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Internal Server Error\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL2luY29ycG9yYXRpb24vbWFyay1wYWlkL3JvdXRlLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUFBLDJDQUEyQztBQUNEO0FBQ0w7QUFDSjtBQUN1QjtBQUNoQixDQUFHLHVDQUF1QztBQUUzRSxNQUFNSyxVQUFVLFNBQVE7QUFDeEIsTUFBTUMsVUFBVSxnQkFBZTtBQUMvQixNQUFNQyxjQUFjLEdBQUU7QUFFdEIsZUFBZUMsS0FBS0MsR0FBWTtJQUNyQyxJQUFJO1FBQ0YsTUFBTUMsVUFBVSxNQUFNUiwrQ0FBSUE7UUFDMUIsSUFBSSxDQUFDUSxTQUFTQyxNQUFNQyxJQUFJO1lBQ3RCLE9BQU9aLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBZSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDcEU7UUFFQSxNQUFNLEVBQUVDLFlBQVksRUFBRSxHQUFHLE1BQU1QLElBQUlJLElBQUksR0FBR0ksS0FBSyxDQUFDLElBQU8sRUFBQztRQUN4RCxJQUFJLENBQUNELGNBQWM7WUFDakIsT0FBT2hCLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBdUIsR0FBRztnQkFBRUMsUUFBUTtZQUFJO1FBQzVFO1FBRUEsZ0RBQWdEO1FBQ2hELE1BQU1HLEtBQUssTUFBTWpCLCtDQUFNQSxDQUFDa0IsZ0JBQWdCLENBQUNDLFVBQVUsQ0FBQztZQUNsREMsT0FBTztnQkFBRVQsSUFBSUk7WUFBYTtZQUMxQk0sUUFBUTtnQkFBRUMsUUFBUTtZQUFLO1FBQ3pCO1FBQ0EsSUFBSSxDQUFDTCxNQUFNQSxHQUFHSyxNQUFNLEtBQUtiLFFBQVFDLElBQUksQ0FBQ0MsRUFBRSxFQUFFO1lBQ3hDLE9BQU9aLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7Z0JBQUVDLE9BQU87WUFBWSxHQUFHO2dCQUFFQyxRQUFRO1lBQUk7UUFDakU7UUFFQSxrQ0FBa0M7UUFDbEMsTUFBTVMsZUFBZSxNQUFNckIsc0VBQXlCQSxDQUFDYSxjQUFjQyxLQUFLLENBQUMsQ0FBQ1E7WUFDeEVDLFFBQVFaLEtBQUssQ0FBQyxpREFBaURXO1lBQy9ELE9BQU87UUFDVDtRQUVBLElBQUksQ0FBQ0QsY0FBYztZQUNqQixnREFBZ0Q7WUFDaEQsT0FBT3hCLHFEQUFZQSxDQUFDYSxJQUFJLENBQ3RCO2dCQUFFQyxPQUFPO1lBQWdDLEdBQ3pDO2dCQUFFQyxRQUFRO1lBQUk7UUFFbEI7UUFFQSx5REFBeUQ7UUFDekQsTUFBTWQsK0NBQU1BLENBQUMwQixvQkFBb0IsQ0FBQ0MsVUFBVSxDQUFDO1lBQzNDUCxPQUFPO2dCQUFFTDtZQUFhO1lBQ3RCYSxNQUFNO2dCQUFFZCxRQUFRO1lBQU87UUFDekI7UUFFQSxpRUFBaUU7UUFDakUsSUFBSTtZQUNGLE1BQU1YLHNEQUFTQSxDQUFDO2dCQUNkMEIsSUFBSXBCLFFBQVFDLElBQUksQ0FBQ29CLEtBQUs7Z0JBQ3RCQyxTQUFTO2dCQUNUQyxNQUFNLENBQUMsa0JBQWtCLEVBQUVULGFBQWFVLFlBQVksSUFBSSxlQUFlLDZCQUE2QixDQUFDO1lBQ3ZHO1FBQ0YsRUFBRSxPQUFPQyxLQUFLO1lBQ1pULFFBQVFVLElBQUksQ0FBQyw4Q0FBOENEO1FBQzdEO1FBRUEsT0FBT25DLHFEQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFBRXdCLElBQUk7UUFBSztJQUN0QyxFQUFFLE9BQU9GLEtBQUs7UUFDWlQsUUFBUVosS0FBSyxDQUFDLGlDQUFpQ3FCO1FBQy9DLE9BQU9uQyxxREFBWUEsQ0FBQ2EsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBd0IsR0FBRztZQUFFQyxRQUFRO1FBQUk7SUFDN0U7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hcHAvYXBpL2luY29ycG9yYXRpb24vbWFyay1wYWlkL3JvdXRlLnRzPzFhMTUiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL2FwaS9pbmNvcnBvcmF0aW9uL21hcmstcGFpZC9yb3V0ZS50c1xuaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBhdXRoIH0gZnJvbSAnQC9saWIvYXV0aCdcbmltcG9ydCB7IG1hcmtPcmRlclBhaWRCeU9uYm9hcmRpbmcgfSBmcm9tICdAL2xpYi9vcmRlcnMnXG5pbXBvcnQgeyBzZW5kRW1haWwgfSBmcm9tICdAL2xpYi9tYWlsZXInICAgLy8g4pyFIG9wdGlvbmFsOiBzZW5kIGNvbmZpcm1hdGlvbiBzYWZlbHlcblxuZXhwb3J0IGNvbnN0IHJ1bnRpbWUgPSAnbm9kZWpzJ1xuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSAnZm9yY2UtZHluYW1pYydcbmV4cG9ydCBjb25zdCBtYXhEdXJhdGlvbiA9IDYwXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBhdXRoKClcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1VuYXV0aG9yaXplZCcgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIGNvbnN0IHsgb25ib2FyZGluZ0lkIH0gPSBhd2FpdCByZXEuanNvbigpLmNhdGNoKCgpID0+ICh7fSBhcyBhbnkpKVxuICAgIGlmICghb25ib2FyZGluZ0lkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ01pc3Npbmcgb25ib2FyZGluZ0lkJyB9LCB7IHN0YXR1czogNDAwIH0pXG4gICAgfVxuXG4gICAgLy8g4pyFIFZlcmlmeSB0aGUgb25ib2FyZGluZyBiZWxvbmdzIHRvIHRoZSBjYWxsZXJcbiAgICBjb25zdCBvYiA9IGF3YWl0IHByaXNtYS5jbGllbnRPbmJvYXJkaW5nLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgaWQ6IG9uYm9hcmRpbmdJZCB9LFxuICAgICAgc2VsZWN0OiB7IHVzZXJJZDogdHJ1ZSB9LFxuICAgIH0pXG4gICAgaWYgKCFvYiB8fCBvYi51c2VySWQgIT09IHNlc3Npb24udXNlci5pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdGb3JiaWRkZW4nIH0sIHsgc3RhdHVzOiA0MDMgfSlcbiAgICB9XG5cbiAgICAvLyDinIUgRmxpcCB0aGUgcGVuZGluZyBvcmRlciDihpIgcGFpZFxuICAgIGNvbnN0IHVwZGF0ZWRPcmRlciA9IGF3YWl0IG1hcmtPcmRlclBhaWRCeU9uYm9hcmRpbmcob25ib2FyZGluZ0lkKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcignW21hcmstcGFpZF0gbWFya09yZGVyUGFpZEJ5T25ib2FyZGluZyBmYWlsZWQ6JywgZSlcbiAgICAgIHJldHVybiBudWxsXG4gICAgfSlcblxuICAgIGlmICghdXBkYXRlZE9yZGVyKSB7XG4gICAgICAvLyDinIUgTm8gcGVuZGluZyBvcmRlciBleGlzdHMgZm9yIHRoaXMgb25ib2FyZGluZ1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTm8gcGVuZGluZyBvcmRlciB0byBtYXJrIHBhaWQnIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKVxuICAgIH1cblxuICAgIC8vIOKchSBNYXJrIHRoZSBpbmNvcnBvcmF0aW9uIHJlY29yZCBhcyBwYWlkIChpZiBpdCBleGlzdHMpXG4gICAgYXdhaXQgcHJpc21hLmNvbXBhbnlJbmNvcnBvcmF0aW9uLnVwZGF0ZU1hbnkoe1xuICAgICAgd2hlcmU6IHsgb25ib2FyZGluZ0lkIH0sXG4gICAgICBkYXRhOiB7IHN0YXR1czogJ3BhaWQnIH0sXG4gICAgfSlcblxuICAgIC8vIOKchSBPcHRpb25hbDogc2VuZCBjb25maXJtYXRpb24gZW1haWwgKHNhZmUgZXZlbiBpZiBubyBwcm92aWRlcilcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2VuZEVtYWlsKHtcbiAgICAgICAgdG86IHNlc3Npb24udXNlci5lbWFpbCEsXG4gICAgICAgIHN1YmplY3Q6ICdPcmRlciBtYXJrZWQgYXMgcGFpZCcsXG4gICAgICAgIGh0bWw6IGA8cD5Zb3VyIG9yZGVyIGZvciAke3VwZGF0ZWRPcmRlci5qdXJpc2RpY3Rpb24gfHwgJ3lvdXIgY29tcGFueSd9IGhhcyBiZWVuIG1hcmtlZCBhcyBwYWlkLjwvcD5gLFxuICAgICAgfSlcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUud2FybignW21hcmstcGFpZF0gRW1haWwgc2VuZCBmYWlsZWQsIGNvbnRpbnVpbmc6JywgZXJyKVxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IG9rOiB0cnVlIH0pXG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ttYXJrLXBhaWRdIFVuZXhwZWN0ZWQgZXJyb3I6JywgZXJyKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnSW50ZXJuYWwgU2VydmVyIEVycm9yJyB9LCB7IHN0YXR1czogNTAwIH0pXG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJOZXh0UmVzcG9uc2UiLCJwcmlzbWEiLCJhdXRoIiwibWFya09yZGVyUGFpZEJ5T25ib2FyZGluZyIsInNlbmRFbWFpbCIsInJ1bnRpbWUiLCJkeW5hbWljIiwibWF4RHVyYXRpb24iLCJQT1NUIiwicmVxIiwic2Vzc2lvbiIsInVzZXIiLCJpZCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsIm9uYm9hcmRpbmdJZCIsImNhdGNoIiwib2IiLCJjbGllbnRPbmJvYXJkaW5nIiwiZmluZFVuaXF1ZSIsIndoZXJlIiwic2VsZWN0IiwidXNlcklkIiwidXBkYXRlZE9yZGVyIiwiZSIsImNvbnNvbGUiLCJjb21wYW55SW5jb3Jwb3JhdGlvbiIsInVwZGF0ZU1hbnkiLCJkYXRhIiwidG8iLCJlbWFpbCIsInN1YmplY3QiLCJodG1sIiwianVyaXNkaWN0aW9uIiwiZXJyIiwid2FybiIsIm9rIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./app/api/incorporation/mark-paid/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth-utils.ts":
/*!***************************!*\
  !*** ./lib/auth-utils.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   registerUser: () => (/* binding */ registerUser),\n/* harmony export */   verifyUser: () => (/* binding */ verifyUser)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! bcryptjs */ \"(rsc)/./node_modules/bcryptjs/index.js\");\n// lib/auth-utils.ts\n\n\nasync function registerUser(name, email, password, phone) {\n    try {\n        console.log(\"Registering user:\", email);\n        // Validate input\n        if (!name || !email || !password) {\n            throw new Error(\"All fields are required\");\n        }\n        if (password.length < 6) {\n            throw new Error(\"Password must be at least 6 characters\");\n        }\n        // Check if user exists\n        const existingUser = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        if (existingUser) {\n            throw new Error(\"User with this email already exists\");\n        }\n        // Hash password\n        const hashedPassword = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].hash(password, 12);\n        // Create user\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.create({\n            data: {\n                name,\n                email,\n                password: hashedPassword\n            }\n        });\n        console.log(\"User registered successfully:\", user.id);\n        return {\n            id: user.id,\n            name: user.name,\n            email: user.email\n        };\n    } catch (error) {\n        console.error(\"Registration error:\", error);\n        throw error;\n    }\n}\nasync function verifyUser(email, password) {\n    try {\n        console.log(\"Verifying user:\", email);\n        const user = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.user.findUnique({\n            where: {\n                email\n            }\n        });\n        if (!user || !user.password) {\n            throw new Error(\"Invalid email or password\");\n        }\n        const passwordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_1__[\"default\"].compare(password, user.password);\n        if (!passwordValid) {\n            throw new Error(\"Invalid email or password\");\n        }\n        console.log(\"User verified successfully:\", user.id);\n        return {\n            id: user.id,\n            name: user.name,\n            email: user.email\n        };\n    } catch (error) {\n        console.error(\"Verification error:\", error);\n        throw error;\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC11dGlscy50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQUEsb0JBQW9CO0FBQ2lCO0FBQ1I7QUFFdEIsZUFBZUUsYUFBYUMsSUFBWSxFQUFFQyxLQUFhLEVBQUVDLFFBQWdCLEVBQUVDLEtBQWM7SUFDOUYsSUFBSTtRQUNGQyxRQUFRQyxHQUFHLENBQUMscUJBQXFCSjtRQUVqQyxpQkFBaUI7UUFDakIsSUFBSSxDQUFDRCxRQUFRLENBQUNDLFNBQVMsQ0FBQ0MsVUFBVTtZQUNoQyxNQUFNLElBQUlJLE1BQU07UUFDbEI7UUFFQSxJQUFJSixTQUFTSyxNQUFNLEdBQUcsR0FBRztZQUN2QixNQUFNLElBQUlELE1BQU07UUFDbEI7UUFFQSx1QkFBdUI7UUFDdkIsTUFBTUUsZUFBZSxNQUFNWCwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDaERDLE9BQU87Z0JBQUVWO1lBQU07UUFDakI7UUFFQSxJQUFJTyxjQUFjO1lBQ2hCLE1BQU0sSUFBSUYsTUFBTTtRQUNsQjtRQUVBLGdCQUFnQjtRQUNoQixNQUFNTSxpQkFBaUIsTUFBTWQscURBQVcsQ0FBQ0ksVUFBVTtRQUVuRCxjQUFjO1FBQ2QsTUFBTU8sT0FBTyxNQUFNWiwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDSyxNQUFNLENBQUM7WUFDcENDLE1BQU07Z0JBQ0pmO2dCQUNBQztnQkFDQUMsVUFBVVU7WUFDWjtRQUNGO1FBRUFSLFFBQVFDLEdBQUcsQ0FBQyxpQ0FBaUNJLEtBQUtPLEVBQUU7UUFDcEQsT0FBTztZQUFFQSxJQUFJUCxLQUFLTyxFQUFFO1lBQUVoQixNQUFNUyxLQUFLVCxJQUFJO1lBQUVDLE9BQU9RLEtBQUtSLEtBQUs7UUFBQTtJQUUxRCxFQUFFLE9BQU9nQixPQUFPO1FBQ2RiLFFBQVFhLEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE1BQU1BO0lBQ1I7QUFDRjtBQUVPLGVBQWVDLFdBQVdqQixLQUFhLEVBQUVDLFFBQWdCO0lBQzlELElBQUk7UUFDRkUsUUFBUUMsR0FBRyxDQUFDLG1CQUFtQko7UUFFL0IsTUFBTVEsT0FBTyxNQUFNWiwrQ0FBTUEsQ0FBQ1ksSUFBSSxDQUFDQyxVQUFVLENBQUM7WUFDeENDLE9BQU87Z0JBQUVWO1lBQU07UUFDakI7UUFFQSxJQUFJLENBQUNRLFFBQVEsQ0FBQ0EsS0FBS1AsUUFBUSxFQUFFO1lBQzNCLE1BQU0sSUFBSUksTUFBTTtRQUNsQjtRQUVBLE1BQU1hLGdCQUFnQixNQUFNckIsd0RBQWMsQ0FBQ0ksVUFBVU8sS0FBS1AsUUFBUTtRQUVsRSxJQUFJLENBQUNpQixlQUFlO1lBQ2xCLE1BQU0sSUFBSWIsTUFBTTtRQUNsQjtRQUVBRixRQUFRQyxHQUFHLENBQUMsK0JBQStCSSxLQUFLTyxFQUFFO1FBQ2xELE9BQU87WUFBRUEsSUFBSVAsS0FBS08sRUFBRTtZQUFFaEIsTUFBTVMsS0FBS1QsSUFBSTtZQUFFQyxPQUFPUSxLQUFLUixLQUFLO1FBQUM7SUFFM0QsRUFBRSxPQUFPZ0IsT0FBTztRQUNkYixRQUFRYSxLQUFLLENBQUMsdUJBQXVCQTtRQUNyQyxNQUFNQTtJQUNSO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2F1dGgtdXRpbHMudHM/MzgxMyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYXV0aC11dGlscy50c1xuaW1wb3J0IHsgcHJpc21hIH0gZnJvbSAnQC9saWIvcHJpc21hJ1xuaW1wb3J0IGJjcnlwdCBmcm9tICdiY3J5cHRqcydcblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHJlZ2lzdGVyVXNlcihuYW1lOiBzdHJpbmcsIGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHBob25lPzogc3RyaW5nKSB7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyaW5nIHVzZXI6JywgZW1haWwpO1xuICAgIFxuICAgIC8vIFZhbGlkYXRlIGlucHV0XG4gICAgaWYgKCFuYW1lIHx8ICFlbWFpbCB8fCAhcGFzc3dvcmQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignQWxsIGZpZWxkcyBhcmUgcmVxdWlyZWQnKVxuICAgIH1cblxuICAgIGlmIChwYXNzd29yZC5sZW5ndGggPCA2KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Bhc3N3b3JkIG11c3QgYmUgYXQgbGVhc3QgNiBjaGFyYWN0ZXJzJylcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB1c2VyIGV4aXN0c1xuICAgIGNvbnN0IGV4aXN0aW5nVXNlciA9IGF3YWl0IHByaXNtYS51c2VyLmZpbmRVbmlxdWUoe1xuICAgICAgd2hlcmU6IHsgZW1haWwgfVxuICAgIH0pXG5cbiAgICBpZiAoZXhpc3RpbmdVc2VyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1VzZXIgd2l0aCB0aGlzIGVtYWlsIGFscmVhZHkgZXhpc3RzJylcbiAgICB9XG5cbiAgICAvLyBIYXNoIHBhc3N3b3JkXG4gICAgY29uc3QgaGFzaGVkUGFzc3dvcmQgPSBhd2FpdCBiY3J5cHQuaGFzaChwYXNzd29yZCwgMTIpXG5cbiAgICAvLyBDcmVhdGUgdXNlclxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5jcmVhdGUoe1xuICAgICAgZGF0YToge1xuICAgICAgICBuYW1lLFxuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmQ6IGhhc2hlZFBhc3N3b3JkLFxuICAgICAgfVxuICAgIH0pXG5cbiAgICBjb25zb2xlLmxvZygnVXNlciByZWdpc3RlcmVkIHN1Y2Nlc3NmdWxseTonLCB1c2VyLmlkKTtcbiAgICByZXR1cm4geyBpZDogdXNlci5pZCwgbmFtZTogdXNlci5uYW1lLCBlbWFpbDogdXNlci5lbWFpbH1cbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdSZWdpc3RyYXRpb24gZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlVc2VyKGVtYWlsOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZygnVmVyaWZ5aW5nIHVzZXI6JywgZW1haWwpO1xuICAgIFxuICAgIGNvbnN0IHVzZXIgPSBhd2FpdCBwcmlzbWEudXNlci5maW5kVW5pcXVlKHtcbiAgICAgIHdoZXJlOiB7IGVtYWlsIH1cbiAgICB9KVxuXG4gICAgaWYgKCF1c2VyIHx8ICF1c2VyLnBhc3N3b3JkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgZW1haWwgb3IgcGFzc3dvcmQnKVxuICAgIH1cblxuICAgIGNvbnN0IHBhc3N3b3JkVmFsaWQgPSBhd2FpdCBiY3J5cHQuY29tcGFyZShwYXNzd29yZCwgdXNlci5wYXNzd29yZClcblxuICAgIGlmICghcGFzc3dvcmRWYWxpZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIGVtYWlsIG9yIHBhc3N3b3JkJylcbiAgICB9XG5cbiAgICBjb25zb2xlLmxvZygnVXNlciB2ZXJpZmllZCBzdWNjZXNzZnVsbHk6JywgdXNlci5pZCk7XG4gICAgcmV0dXJuIHsgaWQ6IHVzZXIuaWQsIG5hbWU6IHVzZXIubmFtZSwgZW1haWw6IHVzZXIuZW1haWwgfVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ1ZlcmlmaWNhdGlvbiBlcnJvcjonLCBlcnJvcik7XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn0iXSwibmFtZXMiOlsicHJpc21hIiwiYmNyeXB0IiwicmVnaXN0ZXJVc2VyIiwibmFtZSIsImVtYWlsIiwicGFzc3dvcmQiLCJwaG9uZSIsImNvbnNvbGUiLCJsb2ciLCJFcnJvciIsImxlbmd0aCIsImV4aXN0aW5nVXNlciIsInVzZXIiLCJmaW5kVW5pcXVlIiwid2hlcmUiLCJoYXNoZWRQYXNzd29yZCIsImhhc2giLCJjcmVhdGUiLCJkYXRhIiwiaWQiLCJlcnJvciIsInZlcmlmeVVzZXIiLCJwYXNzd29yZFZhbGlkIiwiY29tcGFyZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth-utils.ts\n");

/***/ }),

/***/ "(rsc)/./lib/auth.ts":
/*!*********************!*\
  !*** ./lib/auth.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   auth: () => (/* binding */ auth),\n/* harmony export */   handlers: () => (/* binding */ handlers),\n/* harmony export */   signIn: () => (/* binding */ signIn),\n/* harmony export */   signOut: () => (/* binding */ signOut)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"(rsc)/./node_modules/next-auth/index.js\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"(rsc)/./node_modules/next-auth/providers/credentials.js\");\n/* harmony import */ var _lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/auth-utils */ \"(rsc)/./lib/auth-utils.ts\");\n// lib/auth.ts\n\n\n\nconst { handlers, auth, signIn, signOut } = (0,next_auth__WEBPACK_IMPORTED_MODULE_0__[\"default\"])({\n    providers: [\n        (0,next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__[\"default\"])({\n            name: \"credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Password\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        return null;\n                    }\n                    const user = await (0,_lib_auth_utils__WEBPACK_IMPORTED_MODULE_2__.verifyUser)(credentials.email, credentials.password);\n                    return user;\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\"\n    },\n    pages: {\n        signIn: \"/login\"\n    },\n    callbacks: {\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.email = user.email;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.id;\n                session.user.email = token.email;\n            }\n            return session;\n        }\n    }\n});\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvYXV0aC50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQUEsY0FBYztBQUNrQjtBQUN5QjtBQUNaO0FBRXRDLE1BQU0sRUFBRUcsUUFBUSxFQUFFQyxJQUFJLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxFQUFFLEdBQUdOLHFEQUFRQSxDQUFDO0lBQzFETyxXQUFXO1FBQ1ROLDJFQUFXQSxDQUFDO1lBQ1ZPLE1BQU07WUFDTkMsYUFBYTtnQkFDWEMsT0FBTztvQkFBRUMsT0FBTztvQkFBU0MsTUFBTTtnQkFBUTtnQkFDdkNDLFVBQVU7b0JBQUVGLE9BQU87b0JBQVlDLE1BQU07Z0JBQVc7WUFDbEQ7WUFDQSxNQUFNRSxXQUFVTCxXQUFXO2dCQUN6QixJQUFJO29CQUNGLElBQUksQ0FBQ0EsYUFBYUMsU0FBUyxDQUFDRCxhQUFhSSxVQUFVO3dCQUNqRCxPQUFPO29CQUNUO29CQUVBLE1BQU1FLE9BQU8sTUFBTWIsMkRBQVVBLENBQzNCTyxZQUFZQyxLQUFLLEVBQ2pCRCxZQUFZSSxRQUFRO29CQUd0QixPQUFPRTtnQkFDVCxFQUFFLE9BQU9DLE9BQU87b0JBQ2RDLFFBQVFELEtBQUssQ0FBQyxlQUFlQTtvQkFDN0IsT0FBTztnQkFDVDtZQUNGO1FBQ0Y7S0FDRDtJQUNERSxTQUFTO1FBQ1BDLFVBQVU7SUFDWjtJQUNBQyxPQUFPO1FBQ0xmLFFBQVE7SUFDVjtJQUNBZ0IsV0FBVztRQUNULE1BQU1DLEtBQUksRUFBRUMsS0FBSyxFQUFFUixJQUFJLEVBQUU7WUFDdkIsSUFBSUEsTUFBTTtnQkFDUlEsTUFBTUMsRUFBRSxHQUFHVCxLQUFLUyxFQUFFO2dCQUNsQkQsTUFBTWIsS0FBSyxHQUFHSyxLQUFLTCxLQUFLO1lBQzFCO1lBQ0EsT0FBT2E7UUFDVDtRQUNBLE1BQU1MLFNBQVEsRUFBRUEsT0FBTyxFQUFFSyxLQUFLLEVBQUU7WUFDOUIsSUFBSUEsU0FBU0wsUUFBUUgsSUFBSSxFQUFFO2dCQUN6QkcsUUFBUUgsSUFBSSxDQUFDUyxFQUFFLEdBQUdELE1BQU1DLEVBQUU7Z0JBQzFCTixRQUFRSCxJQUFJLENBQUNMLEtBQUssR0FBR2EsTUFBTWIsS0FBSztZQUNsQztZQUNBLE9BQU9RO1FBQ1Q7SUFDRjtBQUNGLEdBQUUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL2F1dGgudHM/YmY3ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvYXV0aC50c1xuaW1wb3J0IE5leHRBdXRoIGZyb20gJ25leHQtYXV0aCdcbmltcG9ydCBDcmVkZW50aWFscyBmcm9tICduZXh0LWF1dGgvcHJvdmlkZXJzL2NyZWRlbnRpYWxzJ1xuaW1wb3J0IHsgdmVyaWZ5VXNlciB9IGZyb20gJ0AvbGliL2F1dGgtdXRpbHMnXG5cbmV4cG9ydCBjb25zdCB7IGhhbmRsZXJzLCBhdXRoLCBzaWduSW4sIHNpZ25PdXQgfSA9IE5leHRBdXRoKHtcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHMoe1xuICAgICAgbmFtZTogJ2NyZWRlbnRpYWxzJyxcbiAgICAgIGNyZWRlbnRpYWxzOiB7XG4gICAgICAgIGVtYWlsOiB7IGxhYmVsOiAnRW1haWwnLCB0eXBlOiAnZW1haWwnIH0sXG4gICAgICAgIHBhc3N3b3JkOiB7IGxhYmVsOiAnUGFzc3dvcmQnLCB0eXBlOiAncGFzc3dvcmQnIH1cbiAgICAgIH0sXG4gICAgICBhc3luYyBhdXRob3JpemUoY3JlZGVudGlhbHMpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAoIWNyZWRlbnRpYWxzPy5lbWFpbCB8fCAhY3JlZGVudGlhbHM/LnBhc3N3b3JkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbFxuICAgICAgICAgIH1cblxuICAgICAgICAgIGNvbnN0IHVzZXIgPSBhd2FpdCB2ZXJpZnlVc2VyKFxuICAgICAgICAgICAgY3JlZGVudGlhbHMuZW1haWwgYXMgc3RyaW5nLFxuICAgICAgICAgICAgY3JlZGVudGlhbHMucGFzc3dvcmQgYXMgc3RyaW5nXG4gICAgICAgICAgKVxuXG4gICAgICAgICAgcmV0dXJuIHVzZXJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGVycm9yOicsIGVycm9yKVxuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9sb2dpbicsXG4gIH0sXG4gIGNhbGxiYWNrczoge1xuICAgIGFzeW5jIGp3dCh7IHRva2VuLCB1c2VyIH0pIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLmlkID0gdXNlci5pZFxuICAgICAgICB0b2tlbi5lbWFpbCA9IHVzZXIuZW1haWxcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b2tlblxuICAgIH0sXG4gICAgYXN5bmMgc2Vzc2lvbih7IHNlc3Npb24sIHRva2VuIH0pIHtcbiAgICAgIGlmICh0b2tlbiAmJiBzZXNzaW9uLnVzZXIpIHtcbiAgICAgICAgc2Vzc2lvbi51c2VyLmlkID0gdG9rZW4uaWQgYXMgc3RyaW5nXG4gICAgICAgIHNlc3Npb24udXNlci5lbWFpbCA9IHRva2VuLmVtYWlsIGFzIHN0cmluZ1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNlc3Npb25cbiAgICB9LFxuICB9LFxufSkiXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFscyIsInZlcmlmeVVzZXIiLCJoYW5kbGVycyIsImF1dGgiLCJzaWduSW4iLCJzaWduT3V0IiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInVzZXIiLCJlcnJvciIsImNvbnNvbGUiLCJzZXNzaW9uIiwic3RyYXRlZ3kiLCJwYWdlcyIsImNhbGxiYWNrcyIsImp3dCIsInRva2VuIiwiaWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/auth.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mailer.ts":
/*!***********************!*\
  !*** ./lib/mailer.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   sendEmail: () => (/* binding */ sendEmail)\n/* harmony export */ });\n/* harmony import */ var resend__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! resend */ \"(rsc)/./node_modules/resend/dist/index.mjs\");\n// lib/mailer.ts\n\n/**\n * Email sending with safe console fallback.\n * - Uses EMAIL_FROM if set (keeps consistent with other modules), then RESEND_FROM, then a default\n * - If RESEND_API_KEY missing or sending fails, logs a full email preview to console and returns success\n */ const RESEND_API_KEY = process.env.RESEND_API_KEY || \"\";\nconst EMAIL_FROM = process.env.EMAIL_FROM || process.env.RESEND_FROM || \"no-reply@example.test\";\nconst IS_SIMULATE = !RESEND_API_KEY;\nif (IS_SIMULATE) {\n    console.warn(\"[mailer] Running in simulation mode — no RESEND_API_KEY found. Emails will be logged to console only.\");\n}\nlet resend = null;\nif (RESEND_API_KEY) {\n    resend = new resend__WEBPACK_IMPORTED_MODULE_0__.Resend(RESEND_API_KEY);\n}\nfunction logEmailPreview(tag, payload) {\n    // Single place for console previews\n    console.log(`--- EMAIL (${tag}) ---`);\n    console.log(\"From:\", payload.from || EMAIL_FROM);\n    console.log(\"To:\", Array.isArray(payload.to) ? payload.to.join(\", \") : payload.to);\n    console.log(\"Subject:\", payload.subject);\n    if (payload.text) console.log(\"Text:\", payload.text);\n    if (payload.html) console.log(\"HTML:\", payload.html);\n    console.log(\"----------------------\");\n}\nasync function sendEmail({ to, subject, text, html, from }) {\n    const payload = {\n        to,\n        subject,\n        text,\n        html,\n        from\n    };\n    // Guard: basic validation for \"to\"\n    if (!to || Array.isArray(to) && to.length === 0) {\n        console.warn('[sendEmail] Missing recipient \"to\" — skipping send.');\n        return {\n            id: \"skipped-no-recipient\",\n            success: false\n        };\n    }\n    // Simulate if no API key\n    if (IS_SIMULATE || !resend) {\n        logEmailPreview(\"console-fallback\", payload);\n        return {\n            id: \"console-fallback\",\n            success: true\n        };\n    }\n    try {\n        const { data, error } = await resend.emails.send({\n            from: from || EMAIL_FROM,\n            to,\n            subject,\n            text,\n            html\n        });\n        if (error) throw error;\n        return {\n            id: data?.id || \"resend\",\n            success: true\n        };\n    } catch (err) {\n        // Don’t crash the app on email failure; print full preview and proceed\n        console.warn(\"[sendEmail] Resend failed, falling back to console preview:\", err);\n        logEmailPreview(\"fallback-on-error\", payload);\n        return {\n            id: \"fallback-on-error\",\n            success: true\n        };\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbWFpbGVyLnRzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQUEsZ0JBQWdCO0FBQ2U7QUFFL0I7Ozs7Q0FJQyxHQUVELE1BQU1DLGlCQUFpQkMsUUFBUUMsR0FBRyxDQUFDRixjQUFjLElBQUk7QUFDckQsTUFBTUcsYUFBYUYsUUFBUUMsR0FBRyxDQUFDQyxVQUFVLElBQUlGLFFBQVFDLEdBQUcsQ0FBQ0UsV0FBVyxJQUFJO0FBQ3hFLE1BQU1DLGNBQWMsQ0FBQ0w7QUFFckIsSUFBSUssYUFBYTtJQUNmQyxRQUFRQyxJQUFJLENBQ1Y7QUFFSjtBQUVBLElBQUlDLFNBQXdCO0FBQzVCLElBQUlSLGdCQUFnQjtJQUNsQlEsU0FBUyxJQUFJVCwwQ0FBTUEsQ0FBQ0M7QUFDdEI7QUFXQSxTQUFTUyxnQkFBZ0JDLEdBQVcsRUFBRUMsT0FBMkU7SUFDL0csb0NBQW9DO0lBQ3BDTCxRQUFRTSxHQUFHLENBQUMsQ0FBQyxXQUFXLEVBQUVGLElBQUksS0FBSyxDQUFDO0lBQ3BDSixRQUFRTSxHQUFHLENBQUMsU0FBU0QsUUFBUUUsSUFBSSxJQUFJVjtJQUNyQ0csUUFBUU0sR0FBRyxDQUFDLE9BQU9FLE1BQU1DLE9BQU8sQ0FBQ0osUUFBUUssRUFBRSxJQUFJTCxRQUFRSyxFQUFFLENBQUNDLElBQUksQ0FBQyxRQUFRTixRQUFRSyxFQUFFO0lBQ2pGVixRQUFRTSxHQUFHLENBQUMsWUFBWUQsUUFBUU8sT0FBTztJQUN2QyxJQUFJUCxRQUFRUSxJQUFJLEVBQUViLFFBQVFNLEdBQUcsQ0FBQyxTQUFTRCxRQUFRUSxJQUFJO0lBQ25ELElBQUlSLFFBQVFTLElBQUksRUFBRWQsUUFBUU0sR0FBRyxDQUFDLFNBQVNELFFBQVFTLElBQUk7SUFDbkRkLFFBQVFNLEdBQUcsQ0FBQztBQUNkO0FBRU8sZUFBZVMsVUFBVSxFQUFFTCxFQUFFLEVBQUVFLE9BQU8sRUFBRUMsSUFBSSxFQUFFQyxJQUFJLEVBQUVQLElBQUksRUFBYztJQUMzRSxNQUFNRixVQUFVO1FBQUVLO1FBQUlFO1FBQVNDO1FBQU1DO1FBQU1QO0lBQUs7SUFFaEQsbUNBQW1DO0lBQ25DLElBQUksQ0FBQ0csTUFBT0YsTUFBTUMsT0FBTyxDQUFDQyxPQUFPQSxHQUFHTSxNQUFNLEtBQUssR0FBSTtRQUNqRGhCLFFBQVFDLElBQUksQ0FBQztRQUNiLE9BQU87WUFBRWdCLElBQUk7WUFBd0JDLFNBQVM7UUFBTTtJQUN0RDtJQUVBLHlCQUF5QjtJQUN6QixJQUFJbkIsZUFBZSxDQUFDRyxRQUFRO1FBQzFCQyxnQkFBZ0Isb0JBQW9CRTtRQUNwQyxPQUFPO1lBQUVZLElBQUk7WUFBb0JDLFNBQVM7UUFBSztJQUNqRDtJQUVBLElBQUk7UUFDRixNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFLEdBQUcsTUFBTWxCLE9BQU9tQixNQUFNLENBQUNDLElBQUksQ0FBQztZQUMvQ2YsTUFBTUEsUUFBUVY7WUFDZGE7WUFDQUU7WUFDQUM7WUFDQUM7UUFDRjtRQUNBLElBQUlNLE9BQU8sTUFBTUE7UUFDakIsT0FBTztZQUFFSCxJQUFJRSxNQUFNRixNQUFNO1lBQVVDLFNBQVM7UUFBSztJQUNuRCxFQUFFLE9BQU9LLEtBQUs7UUFDWix1RUFBdUU7UUFDdkV2QixRQUFRQyxJQUFJLENBQUMsK0RBQStEc0I7UUFDNUVwQixnQkFBZ0IscUJBQXFCRTtRQUNyQyxPQUFPO1lBQUVZLElBQUk7WUFBcUJDLFNBQVM7UUFBSztJQUNsRDtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9tYWlsZXIudHM/NzJjOCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvbWFpbGVyLnRzXG5pbXBvcnQgeyBSZXNlbmQgfSBmcm9tICdyZXNlbmQnXG5cbi8qKlxuICogRW1haWwgc2VuZGluZyB3aXRoIHNhZmUgY29uc29sZSBmYWxsYmFjay5cbiAqIC0gVXNlcyBFTUFJTF9GUk9NIGlmIHNldCAoa2VlcHMgY29uc2lzdGVudCB3aXRoIG90aGVyIG1vZHVsZXMpLCB0aGVuIFJFU0VORF9GUk9NLCB0aGVuIGEgZGVmYXVsdFxuICogLSBJZiBSRVNFTkRfQVBJX0tFWSBtaXNzaW5nIG9yIHNlbmRpbmcgZmFpbHMsIGxvZ3MgYSBmdWxsIGVtYWlsIHByZXZpZXcgdG8gY29uc29sZSBhbmQgcmV0dXJucyBzdWNjZXNzXG4gKi9cblxuY29uc3QgUkVTRU5EX0FQSV9LRVkgPSBwcm9jZXNzLmVudi5SRVNFTkRfQVBJX0tFWSB8fCAnJ1xuY29uc3QgRU1BSUxfRlJPTSA9IHByb2Nlc3MuZW52LkVNQUlMX0ZST00gfHwgcHJvY2Vzcy5lbnYuUkVTRU5EX0ZST00gfHwgJ25vLXJlcGx5QGV4YW1wbGUudGVzdCdcbmNvbnN0IElTX1NJTVVMQVRFID0gIVJFU0VORF9BUElfS0VZXG5cbmlmIChJU19TSU1VTEFURSkge1xuICBjb25zb2xlLndhcm4oXG4gICAgJ1ttYWlsZXJdIFJ1bm5pbmcgaW4gc2ltdWxhdGlvbiBtb2RlIOKAlCBubyBSRVNFTkRfQVBJX0tFWSBmb3VuZC4gRW1haWxzIHdpbGwgYmUgbG9nZ2VkIHRvIGNvbnNvbGUgb25seS4nXG4gIClcbn1cblxubGV0IHJlc2VuZDogUmVzZW5kIHwgbnVsbCA9IG51bGxcbmlmIChSRVNFTkRfQVBJX0tFWSkge1xuICByZXNlbmQgPSBuZXcgUmVzZW5kKFJFU0VORF9BUElfS0VZKVxufVxuXG50eXBlIEVtYWlsSW5wdXQgPSB7XG4gIHRvOiBzdHJpbmcgfCBzdHJpbmdbXVxuICBzdWJqZWN0OiBzdHJpbmdcbiAgdGV4dD86IHN0cmluZ1xuICBodG1sPzogc3RyaW5nXG4gIGZyb20/OiBzdHJpbmdcbiAgLy8geW91IGNhbiBleHRlbmQgbGF0ZXIgd2l0aCBjYy9iY2MvcmVwbHlUbyBpZiBuZWVkZWRcbn1cblxuZnVuY3Rpb24gbG9nRW1haWxQcmV2aWV3KHRhZzogc3RyaW5nLCBwYXlsb2FkOiBSZXF1aXJlZDxQaWNrPEVtYWlsSW5wdXQsICd0bycgfCAnc3ViamVjdCc+PiAmIFBhcnRpYWw8RW1haWxJbnB1dD4pIHtcbiAgLy8gU2luZ2xlIHBsYWNlIGZvciBjb25zb2xlIHByZXZpZXdzXG4gIGNvbnNvbGUubG9nKGAtLS0gRU1BSUwgKCR7dGFnfSkgLS0tYClcbiAgY29uc29sZS5sb2coJ0Zyb206JywgcGF5bG9hZC5mcm9tIHx8IEVNQUlMX0ZST00pXG4gIGNvbnNvbGUubG9nKCdUbzonLCBBcnJheS5pc0FycmF5KHBheWxvYWQudG8pID8gcGF5bG9hZC50by5qb2luKCcsICcpIDogcGF5bG9hZC50bylcbiAgY29uc29sZS5sb2coJ1N1YmplY3Q6JywgcGF5bG9hZC5zdWJqZWN0KVxuICBpZiAocGF5bG9hZC50ZXh0KSBjb25zb2xlLmxvZygnVGV4dDonLCBwYXlsb2FkLnRleHQpXG4gIGlmIChwYXlsb2FkLmh0bWwpIGNvbnNvbGUubG9nKCdIVE1MOicsIHBheWxvYWQuaHRtbClcbiAgY29uc29sZS5sb2coJy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0nKVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VuZEVtYWlsKHsgdG8sIHN1YmplY3QsIHRleHQsIGh0bWwsIGZyb20gfTogRW1haWxJbnB1dCkge1xuICBjb25zdCBwYXlsb2FkID0geyB0bywgc3ViamVjdCwgdGV4dCwgaHRtbCwgZnJvbSB9XG5cbiAgLy8gR3VhcmQ6IGJhc2ljIHZhbGlkYXRpb24gZm9yIFwidG9cIlxuICBpZiAoIXRvIHx8IChBcnJheS5pc0FycmF5KHRvKSAmJiB0by5sZW5ndGggPT09IDApKSB7XG4gICAgY29uc29sZS53YXJuKCdbc2VuZEVtYWlsXSBNaXNzaW5nIHJlY2lwaWVudCBcInRvXCIg4oCUIHNraXBwaW5nIHNlbmQuJylcbiAgICByZXR1cm4geyBpZDogJ3NraXBwZWQtbm8tcmVjaXBpZW50Jywgc3VjY2VzczogZmFsc2UgfVxuICB9XG5cbiAgLy8gU2ltdWxhdGUgaWYgbm8gQVBJIGtleVxuICBpZiAoSVNfU0lNVUxBVEUgfHwgIXJlc2VuZCkge1xuICAgIGxvZ0VtYWlsUHJldmlldygnY29uc29sZS1mYWxsYmFjaycsIHBheWxvYWQpXG4gICAgcmV0dXJuIHsgaWQ6ICdjb25zb2xlLWZhbGxiYWNrJywgc3VjY2VzczogdHJ1ZSB9XG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHJlc2VuZC5lbWFpbHMuc2VuZCh7XG4gICAgICBmcm9tOiBmcm9tIHx8IEVNQUlMX0ZST00sXG4gICAgICB0byxcbiAgICAgIHN1YmplY3QsXG4gICAgICB0ZXh0LFxuICAgICAgaHRtbCxcbiAgICB9KVxuICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3JcbiAgICByZXR1cm4geyBpZDogZGF0YT8uaWQgfHwgJ3Jlc2VuZCcsIHN1Y2Nlc3M6IHRydWUgfVxuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBEb27igJl0IGNyYXNoIHRoZSBhcHAgb24gZW1haWwgZmFpbHVyZTsgcHJpbnQgZnVsbCBwcmV2aWV3IGFuZCBwcm9jZWVkXG4gICAgY29uc29sZS53YXJuKCdbc2VuZEVtYWlsXSBSZXNlbmQgZmFpbGVkLCBmYWxsaW5nIGJhY2sgdG8gY29uc29sZSBwcmV2aWV3OicsIGVycilcbiAgICBsb2dFbWFpbFByZXZpZXcoJ2ZhbGxiYWNrLW9uLWVycm9yJywgcGF5bG9hZClcbiAgICByZXR1cm4geyBpZDogJ2ZhbGxiYWNrLW9uLWVycm9yJywgc3VjY2VzczogdHJ1ZSB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJSZXNlbmQiLCJSRVNFTkRfQVBJX0tFWSIsInByb2Nlc3MiLCJlbnYiLCJFTUFJTF9GUk9NIiwiUkVTRU5EX0ZST00iLCJJU19TSU1VTEFURSIsImNvbnNvbGUiLCJ3YXJuIiwicmVzZW5kIiwibG9nRW1haWxQcmV2aWV3IiwidGFnIiwicGF5bG9hZCIsImxvZyIsImZyb20iLCJBcnJheSIsImlzQXJyYXkiLCJ0byIsImpvaW4iLCJzdWJqZWN0IiwidGV4dCIsImh0bWwiLCJzZW5kRW1haWwiLCJsZW5ndGgiLCJpZCIsInN1Y2Nlc3MiLCJkYXRhIiwiZXJyb3IiLCJlbWFpbHMiLCJzZW5kIiwiZXJyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./lib/mailer.ts\n");

/***/ }),

/***/ "(rsc)/./lib/orders.ts":
/*!***********************!*\
  !*** ./lib/orders.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ensurePendingOrder: () => (/* binding */ ensurePendingOrder),\n/* harmony export */   generateOrderCode: () => (/* binding */ generateOrderCode),\n/* harmony export */   markOrderPaidByOnboarding: () => (/* binding */ markOrderPaidByOnboarding)\n/* harmony export */ });\n/* harmony import */ var _lib_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @/lib/prisma */ \"(rsc)/./lib/prisma.ts\");\n/* harmony import */ var _lib_mailer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mailer */ \"(rsc)/./lib/mailer.ts\");\n// lib/orders.ts\n\n // single mail path with console fallback\n/** Build a readable order code, e.g. SCG-BVI-20251021-0007 (date + daily sequence) */ async function generateOrderCode(jurisdiction) {\n    const j = (jurisdiction || \"BVI\").toUpperCase();\n    const today = new Date();\n    const y = today.getFullYear();\n    const m = String(today.getMonth() + 1).padStart(2, \"0\");\n    const d = String(today.getDate()).padStart(2, \"0\");\n    // Count today's orders to create a sequence number\n    const start = new Date(Date.UTC(y, today.getMonth(), today.getDate(), 0, 0, 0));\n    const end = new Date(Date.UTC(y, today.getMonth(), today.getDate() + 1, 0, 0, 0));\n    const countToday = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.count({\n        where: {\n            createdAt: {\n                gte: start,\n                lt: end\n            }\n        }\n    });\n    const seq = String(countToday + 1).padStart(4, \"0\");\n    return `SCG-${j}-${y}${m}${d}-${seq}`;\n}\n/**\n * Ensure there is one pending order for this onboarding.\n * If none exists, create one and send (or simulate) the email.\n * This function must NOT throw if email fails.\n */ async function ensurePendingOrder(opts) {\n    const { userId, userEmail, onboardingId, jurisdiction, companyNames, pricingUrl } = opts;\n    // 1) Find existing pending order\n    let order = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.findFirst({\n        where: {\n            onboardingId,\n            status: \"pending_payment\"\n        }\n    });\n    // 2) Create if not found\n    if (!order) {\n        order = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.create({\n            data: {\n                userId,\n                onboardingId,\n                jurisdiction: jurisdiction || \"BVI\",\n                orderCode: await generateOrderCode(jurisdiction),\n                status: \"pending_payment\"\n            }\n        });\n    }\n    // 3) Email (console fallback is inside sendEmail)\n    const preferred = companyNames?.firstPreference ? `${companyNames.firstPreference}${companyNames?.chosenEnding ? \" \" + companyNames.chosenEnding : \"\"}` : \"your company\";\n    const subject = `SCG — Complete your order ${order.orderCode}`;\n    const html = `\n    <div style=\"font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial; line-height:1.6\">\n      <h2>Complete your order</h2>\n      <p>Order Code: <strong>${order.orderCode}</strong></p>\n      <p>Jurisdiction: <strong>${(jurisdiction || \"BVI\").toUpperCase()}</strong></p>\n      <p>Company name (first preference): <strong>${preferred}</strong></p>\n      <p>Please complete your payment to proceed:</p>\n      <p><a href=\"${pricingUrl}\" target=\"_blank\" rel=\"noopener\">Go to payment</a></p>\n      <hr/>\n      <p>If you already paid, you can ignore this email.</p>\n    </div>\n  `;\n    try {\n        await (0,_lib_mailer__WEBPACK_IMPORTED_MODULE_1__.sendEmail)({\n            to: userEmail,\n            from: process.env.EMAIL_FROM,\n            subject,\n            html\n        });\n    } catch (e) {\n        // Never block order creation on email failure\n        console.warn(\"[ensurePendingOrder] email send failed, continuing:\", e);\n    }\n    // 4) Record lastEmailAt (even if sendEmail only printed to console)\n    await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.update({\n        where: {\n            id: order.id\n        },\n        data: {\n            lastEmailAt: new Date()\n        }\n    });\n    return order;\n}\n/** Mark as paid by onboardingId (used by /pricing page) */ async function markOrderPaidByOnboarding(onboardingId) {\n    const order = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.findFirst({\n        where: {\n            onboardingId,\n            status: \"pending_payment\"\n        }\n    });\n    if (!order) return null;\n    const updated = await _lib_prisma__WEBPACK_IMPORTED_MODULE_0__.prisma.order.update({\n        where: {\n            id: order.id\n        },\n        data: {\n            status: \"paid\"\n        }\n    });\n    return updated;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvb3JkZXJzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7O0FBQUEsZ0JBQWdCO0FBQ3FCO0FBQ0csQ0FBQyx5Q0FBeUM7QUFFbEYsb0ZBQW9GLEdBQzdFLGVBQWVFLGtCQUFrQkMsWUFBb0I7SUFDMUQsTUFBTUMsSUFBSSxDQUFDRCxnQkFBZ0IsS0FBSSxFQUFHRSxXQUFXO0lBQzdDLE1BQU1DLFFBQVEsSUFBSUM7SUFDbEIsTUFBTUMsSUFBSUYsTUFBTUcsV0FBVztJQUMzQixNQUFNQyxJQUFJQyxPQUFPTCxNQUFNTSxRQUFRLEtBQUssR0FBR0MsUUFBUSxDQUFDLEdBQUc7SUFDbkQsTUFBTUMsSUFBSUgsT0FBT0wsTUFBTVMsT0FBTyxJQUFJRixRQUFRLENBQUMsR0FBRztJQUU5QyxtREFBbUQ7SUFDbkQsTUFBTUcsUUFBUSxJQUFJVCxLQUFLQSxLQUFLVSxHQUFHLENBQUNULEdBQUdGLE1BQU1NLFFBQVEsSUFBSU4sTUFBTVMsT0FBTyxJQUFJLEdBQUcsR0FBRztJQUM1RSxNQUFNRyxNQUFNLElBQUlYLEtBQUtBLEtBQUtVLEdBQUcsQ0FBQ1QsR0FBR0YsTUFBTU0sUUFBUSxJQUFJTixNQUFNUyxPQUFPLEtBQUssR0FBRyxHQUFHLEdBQUc7SUFDOUUsTUFBTUksYUFBYSxNQUFNbkIsK0NBQU1BLENBQUNvQixLQUFLLENBQUNDLEtBQUssQ0FBQztRQUMxQ0MsT0FBTztZQUFFQyxXQUFXO2dCQUFFQyxLQUFLUjtnQkFBT1MsSUFBSVA7WUFBSTtRQUFFO0lBQzlDO0lBRUEsTUFBTVEsTUFBTWYsT0FBT1EsYUFBYSxHQUFHTixRQUFRLENBQUMsR0FBRztJQUMvQyxPQUFPLENBQUMsSUFBSSxFQUFFVCxFQUFFLENBQUMsRUFBRUksRUFBRSxFQUFFRSxFQUFFLEVBQUVJLEVBQUUsQ0FBQyxFQUFFWSxJQUFJLENBQUM7QUFDdkM7QUFFQTs7OztDQUlDLEdBQ00sZUFBZUMsbUJBQW1CQyxJQU94QztJQUNDLE1BQU0sRUFBRUMsTUFBTSxFQUFFQyxTQUFTLEVBQUVDLFlBQVksRUFBRTVCLFlBQVksRUFBRTZCLFlBQVksRUFBRUMsVUFBVSxFQUFFLEdBQUdMO0lBRXBGLGlDQUFpQztJQUNqQyxJQUFJUixRQUFRLE1BQU1wQiwrQ0FBTUEsQ0FBQ29CLEtBQUssQ0FBQ2MsU0FBUyxDQUFDO1FBQ3ZDWixPQUFPO1lBQUVTO1lBQWNJLFFBQVE7UUFBa0I7SUFDbkQ7SUFFQSx5QkFBeUI7SUFDekIsSUFBSSxDQUFDZixPQUFPO1FBQ1ZBLFFBQVEsTUFBTXBCLCtDQUFNQSxDQUFDb0IsS0FBSyxDQUFDZ0IsTUFBTSxDQUFDO1lBQ2hDQyxNQUFNO2dCQUNKUjtnQkFDQUU7Z0JBQ0E1QixjQUFjQSxnQkFBZ0I7Z0JBQzlCbUMsV0FBVyxNQUFNcEMsa0JBQWtCQztnQkFDbkNnQyxRQUFRO1lBQ1Y7UUFDRjtJQUNGO0lBRUEsa0RBQWtEO0lBQ2xELE1BQU1JLFlBQ0pQLGNBQWNRLGtCQUNWLENBQUMsRUFBRVIsYUFBYVEsZUFBZSxDQUFDLEVBQUVSLGNBQWNTLGVBQWUsTUFBTVQsYUFBYVMsWUFBWSxHQUFHLEdBQUcsQ0FBQyxHQUNyRztJQUVOLE1BQU1DLFVBQVUsQ0FBQywwQkFBMEIsRUFBRXRCLE1BQU1rQixTQUFTLENBQUMsQ0FBQztJQUM5RCxNQUFNSyxPQUFPLENBQUM7Ozs2QkFHYSxFQUFFdkIsTUFBTWtCLFNBQVMsQ0FBQzsrQkFDaEIsRUFBRSxDQUFDbkMsZ0JBQWdCLEtBQUksRUFBR0UsV0FBVyxHQUFHO2tEQUNyQixFQUFFa0MsVUFBVTs7a0JBRTVDLEVBQUVOLFdBQVc7Ozs7RUFJN0IsQ0FBQztJQUVELElBQUk7UUFDRixNQUFNaEMsc0RBQVNBLENBQUM7WUFDZDJDLElBQUlkO1lBQ0plLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVTtZQUM1Qk47WUFDQUM7UUFDRjtJQUNGLEVBQUUsT0FBT00sR0FBRztRQUNWLDhDQUE4QztRQUM5Q0MsUUFBUUMsSUFBSSxDQUFDLHVEQUF1REY7SUFDdEU7SUFFQSxvRUFBb0U7SUFDcEUsTUFBTWpELCtDQUFNQSxDQUFDb0IsS0FBSyxDQUFDZ0MsTUFBTSxDQUFDO1FBQ3hCOUIsT0FBTztZQUFFK0IsSUFBSWpDLE1BQU1pQyxFQUFFO1FBQUM7UUFDdEJoQixNQUFNO1lBQUVpQixhQUFhLElBQUkvQztRQUFPO0lBQ2xDO0lBRUEsT0FBT2E7QUFDVDtBQUVBLHlEQUF5RCxHQUNsRCxlQUFlbUMsMEJBQTBCeEIsWUFBb0I7SUFDbEUsTUFBTVgsUUFBUSxNQUFNcEIsK0NBQU1BLENBQUNvQixLQUFLLENBQUNjLFNBQVMsQ0FBQztRQUN6Q1osT0FBTztZQUFFUztZQUFjSSxRQUFRO1FBQWtCO0lBQ25EO0lBQ0EsSUFBSSxDQUFDZixPQUFPLE9BQU87SUFFbkIsTUFBTW9DLFVBQVUsTUFBTXhELCtDQUFNQSxDQUFDb0IsS0FBSyxDQUFDZ0MsTUFBTSxDQUFDO1FBQ3hDOUIsT0FBTztZQUFFK0IsSUFBSWpDLE1BQU1pQyxFQUFFO1FBQUM7UUFDdEJoQixNQUFNO1lBQUVGLFFBQVE7UUFBTztJQUN6QjtJQUNBLE9BQU9xQjtBQUNUIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbXktdjAtcHJvamVjdC8uL2xpYi9vcmRlcnMudHM/NDBlZiJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBsaWIvb3JkZXJzLnRzXG5pbXBvcnQgeyBwcmlzbWEgfSBmcm9tICdAL2xpYi9wcmlzbWEnXG5pbXBvcnQgeyBzZW5kRW1haWwgfSBmcm9tICdAL2xpYi9tYWlsZXInIC8vIHNpbmdsZSBtYWlsIHBhdGggd2l0aCBjb25zb2xlIGZhbGxiYWNrXG5cbi8qKiBCdWlsZCBhIHJlYWRhYmxlIG9yZGVyIGNvZGUsIGUuZy4gU0NHLUJWSS0yMDI1MTAyMS0wMDA3IChkYXRlICsgZGFpbHkgc2VxdWVuY2UpICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVPcmRlckNvZGUoanVyaXNkaWN0aW9uOiBzdHJpbmcpIHtcbiAgY29uc3QgaiA9IChqdXJpc2RpY3Rpb24gfHwgJ0JWSScpLnRvVXBwZXJDYXNlKClcbiAgY29uc3QgdG9kYXkgPSBuZXcgRGF0ZSgpXG4gIGNvbnN0IHkgPSB0b2RheS5nZXRGdWxsWWVhcigpXG4gIGNvbnN0IG0gPSBTdHJpbmcodG9kYXkuZ2V0TW9udGgoKSArIDEpLnBhZFN0YXJ0KDIsICcwJylcbiAgY29uc3QgZCA9IFN0cmluZyh0b2RheS5nZXREYXRlKCkpLnBhZFN0YXJ0KDIsICcwJylcblxuICAvLyBDb3VudCB0b2RheSdzIG9yZGVycyB0byBjcmVhdGUgYSBzZXF1ZW5jZSBudW1iZXJcbiAgY29uc3Qgc3RhcnQgPSBuZXcgRGF0ZShEYXRlLlVUQyh5LCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCksIDAsIDAsIDApKVxuICBjb25zdCBlbmQgPSBuZXcgRGF0ZShEYXRlLlVUQyh5LCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkgKyAxLCAwLCAwLCAwKSlcbiAgY29uc3QgY291bnRUb2RheSA9IGF3YWl0IHByaXNtYS5vcmRlci5jb3VudCh7XG4gICAgd2hlcmU6IHsgY3JlYXRlZEF0OiB7IGd0ZTogc3RhcnQsIGx0OiBlbmQgfSB9LFxuICB9KVxuXG4gIGNvbnN0IHNlcSA9IFN0cmluZyhjb3VudFRvZGF5ICsgMSkucGFkU3RhcnQoNCwgJzAnKVxuICByZXR1cm4gYFNDRy0ke2p9LSR7eX0ke219JHtkfS0ke3NlcX1gXG59XG5cbi8qKlxuICogRW5zdXJlIHRoZXJlIGlzIG9uZSBwZW5kaW5nIG9yZGVyIGZvciB0aGlzIG9uYm9hcmRpbmcuXG4gKiBJZiBub25lIGV4aXN0cywgY3JlYXRlIG9uZSBhbmQgc2VuZCAob3Igc2ltdWxhdGUpIHRoZSBlbWFpbC5cbiAqIFRoaXMgZnVuY3Rpb24gbXVzdCBOT1QgdGhyb3cgaWYgZW1haWwgZmFpbHMuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBlbnN1cmVQZW5kaW5nT3JkZXIob3B0czoge1xuICB1c2VySWQ6IHN0cmluZ1xuICB1c2VyRW1haWw6IHN0cmluZ1xuICBvbmJvYXJkaW5nSWQ6IHN0cmluZ1xuICBqdXJpc2RpY3Rpb246IHN0cmluZ1xuICBjb21wYW55TmFtZXM/OiB7IGZpcnN0UHJlZmVyZW5jZT86IHN0cmluZzsgY2hvc2VuRW5kaW5nPzogc3RyaW5nIH0gfCBhbnlcbiAgcHJpY2luZ1VybDogc3RyaW5nXG59KSB7XG4gIGNvbnN0IHsgdXNlcklkLCB1c2VyRW1haWwsIG9uYm9hcmRpbmdJZCwganVyaXNkaWN0aW9uLCBjb21wYW55TmFtZXMsIHByaWNpbmdVcmwgfSA9IG9wdHNcblxuICAvLyAxKSBGaW5kIGV4aXN0aW5nIHBlbmRpbmcgb3JkZXJcbiAgbGV0IG9yZGVyID0gYXdhaXQgcHJpc21hLm9yZGVyLmZpbmRGaXJzdCh7XG4gICAgd2hlcmU6IHsgb25ib2FyZGluZ0lkLCBzdGF0dXM6ICdwZW5kaW5nX3BheW1lbnQnIH0sXG4gIH0pXG5cbiAgLy8gMikgQ3JlYXRlIGlmIG5vdCBmb3VuZFxuICBpZiAoIW9yZGVyKSB7XG4gICAgb3JkZXIgPSBhd2FpdCBwcmlzbWEub3JkZXIuY3JlYXRlKHtcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcklkLFxuICAgICAgICBvbmJvYXJkaW5nSWQsXG4gICAgICAgIGp1cmlzZGljdGlvbjoganVyaXNkaWN0aW9uIHx8ICdCVkknLFxuICAgICAgICBvcmRlckNvZGU6IGF3YWl0IGdlbmVyYXRlT3JkZXJDb2RlKGp1cmlzZGljdGlvbiksXG4gICAgICAgIHN0YXR1czogJ3BlbmRpbmdfcGF5bWVudCcsXG4gICAgICB9LFxuICAgIH0pXG4gIH1cblxuICAvLyAzKSBFbWFpbCAoY29uc29sZSBmYWxsYmFjayBpcyBpbnNpZGUgc2VuZEVtYWlsKVxuICBjb25zdCBwcmVmZXJyZWQgPVxuICAgIGNvbXBhbnlOYW1lcz8uZmlyc3RQcmVmZXJlbmNlXG4gICAgICA/IGAke2NvbXBhbnlOYW1lcy5maXJzdFByZWZlcmVuY2V9JHtjb21wYW55TmFtZXM/LmNob3NlbkVuZGluZyA/ICcgJyArIGNvbXBhbnlOYW1lcy5jaG9zZW5FbmRpbmcgOiAnJ31gXG4gICAgICA6ICd5b3VyIGNvbXBhbnknXG5cbiAgY29uc3Qgc3ViamVjdCA9IGBTQ0cg4oCUIENvbXBsZXRlIHlvdXIgb3JkZXIgJHtvcmRlci5vcmRlckNvZGV9YFxuICBjb25zdCBodG1sID0gYFxuICAgIDxkaXYgc3R5bGU9XCJmb250LWZhbWlseTogc3lzdGVtLXVpLCAtYXBwbGUtc3lzdGVtLCBTZWdvZSBVSSwgUm9ib3RvLCBBcmlhbDsgbGluZS1oZWlnaHQ6MS42XCI+XG4gICAgICA8aDI+Q29tcGxldGUgeW91ciBvcmRlcjwvaDI+XG4gICAgICA8cD5PcmRlciBDb2RlOiA8c3Ryb25nPiR7b3JkZXIub3JkZXJDb2RlfTwvc3Ryb25nPjwvcD5cbiAgICAgIDxwPkp1cmlzZGljdGlvbjogPHN0cm9uZz4keyhqdXJpc2RpY3Rpb24gfHwgJ0JWSScpLnRvVXBwZXJDYXNlKCl9PC9zdHJvbmc+PC9wPlxuICAgICAgPHA+Q29tcGFueSBuYW1lIChmaXJzdCBwcmVmZXJlbmNlKTogPHN0cm9uZz4ke3ByZWZlcnJlZH08L3N0cm9uZz48L3A+XG4gICAgICA8cD5QbGVhc2UgY29tcGxldGUgeW91ciBwYXltZW50IHRvIHByb2NlZWQ6PC9wPlxuICAgICAgPHA+PGEgaHJlZj1cIiR7cHJpY2luZ1VybH1cIiB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lclwiPkdvIHRvIHBheW1lbnQ8L2E+PC9wPlxuICAgICAgPGhyLz5cbiAgICAgIDxwPklmIHlvdSBhbHJlYWR5IHBhaWQsIHlvdSBjYW4gaWdub3JlIHRoaXMgZW1haWwuPC9wPlxuICAgIDwvZGl2PlxuICBgXG5cbiAgdHJ5IHtcbiAgICBhd2FpdCBzZW5kRW1haWwoe1xuICAgICAgdG86IHVzZXJFbWFpbCxcbiAgICAgIGZyb206IHByb2Nlc3MuZW52LkVNQUlMX0ZST00sIC8vIG9rIGlmIHVuZGVmaW5lZDsgc2VuZEVtYWlsIHByaW50cyB0byBjb25zb2xlIHdpdGhvdXQgY3JlZHNcbiAgICAgIHN1YmplY3QsXG4gICAgICBodG1sLFxuICAgIH0pXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvLyBOZXZlciBibG9jayBvcmRlciBjcmVhdGlvbiBvbiBlbWFpbCBmYWlsdXJlXG4gICAgY29uc29sZS53YXJuKCdbZW5zdXJlUGVuZGluZ09yZGVyXSBlbWFpbCBzZW5kIGZhaWxlZCwgY29udGludWluZzonLCBlKVxuICB9XG5cbiAgLy8gNCkgUmVjb3JkIGxhc3RFbWFpbEF0IChldmVuIGlmIHNlbmRFbWFpbCBvbmx5IHByaW50ZWQgdG8gY29uc29sZSlcbiAgYXdhaXQgcHJpc21hLm9yZGVyLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IG9yZGVyLmlkIH0sXG4gICAgZGF0YTogeyBsYXN0RW1haWxBdDogbmV3IERhdGUoKSB9LFxuICB9KVxuXG4gIHJldHVybiBvcmRlclxufVxuXG4vKiogTWFyayBhcyBwYWlkIGJ5IG9uYm9hcmRpbmdJZCAodXNlZCBieSAvcHJpY2luZyBwYWdlKSAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIG1hcmtPcmRlclBhaWRCeU9uYm9hcmRpbmcob25ib2FyZGluZ0lkOiBzdHJpbmcpIHtcbiAgY29uc3Qgb3JkZXIgPSBhd2FpdCBwcmlzbWEub3JkZXIuZmluZEZpcnN0KHtcbiAgICB3aGVyZTogeyBvbmJvYXJkaW5nSWQsIHN0YXR1czogJ3BlbmRpbmdfcGF5bWVudCcgfSxcbiAgfSlcbiAgaWYgKCFvcmRlcikgcmV0dXJuIG51bGxcblxuICBjb25zdCB1cGRhdGVkID0gYXdhaXQgcHJpc21hLm9yZGVyLnVwZGF0ZSh7XG4gICAgd2hlcmU6IHsgaWQ6IG9yZGVyLmlkIH0sXG4gICAgZGF0YTogeyBzdGF0dXM6ICdwYWlkJyB9LFxuICB9KVxuICByZXR1cm4gdXBkYXRlZFxufVxuIl0sIm5hbWVzIjpbInByaXNtYSIsInNlbmRFbWFpbCIsImdlbmVyYXRlT3JkZXJDb2RlIiwianVyaXNkaWN0aW9uIiwiaiIsInRvVXBwZXJDYXNlIiwidG9kYXkiLCJEYXRlIiwieSIsImdldEZ1bGxZZWFyIiwibSIsIlN0cmluZyIsImdldE1vbnRoIiwicGFkU3RhcnQiLCJkIiwiZ2V0RGF0ZSIsInN0YXJ0IiwiVVRDIiwiZW5kIiwiY291bnRUb2RheSIsIm9yZGVyIiwiY291bnQiLCJ3aGVyZSIsImNyZWF0ZWRBdCIsImd0ZSIsImx0Iiwic2VxIiwiZW5zdXJlUGVuZGluZ09yZGVyIiwib3B0cyIsInVzZXJJZCIsInVzZXJFbWFpbCIsIm9uYm9hcmRpbmdJZCIsImNvbXBhbnlOYW1lcyIsInByaWNpbmdVcmwiLCJmaW5kRmlyc3QiLCJzdGF0dXMiLCJjcmVhdGUiLCJkYXRhIiwib3JkZXJDb2RlIiwicHJlZmVycmVkIiwiZmlyc3RQcmVmZXJlbmNlIiwiY2hvc2VuRW5kaW5nIiwic3ViamVjdCIsImh0bWwiLCJ0byIsImZyb20iLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfRlJPTSIsImUiLCJjb25zb2xlIiwid2FybiIsInVwZGF0ZSIsImlkIiwibGFzdEVtYWlsQXQiLCJtYXJrT3JkZXJQYWlkQnlPbmJvYXJkaW5nIiwidXBkYXRlZCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/orders.ts\n");

/***/ }),

/***/ "(rsc)/./lib/prisma.ts":
/*!***********************!*\
  !*** ./lib/prisma.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   prisma: () => (/* binding */ prisma)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n// lib/prisma.ts\n\nconst globalForPrisma = globalThis;\nconst prisma = globalForPrisma.prisma ?? new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient({\n    log: [\n        \"warn\",\n        \"error\"\n    ]\n});\nif (true) {\n    globalForPrisma.prisma = prisma;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvcHJpc21hLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFBLGdCQUFnQjtBQUM4QjtBQUU5QyxNQUFNQyxrQkFBa0JDO0FBSWpCLE1BQU1DLFNBQ1hGLGdCQUFnQkUsTUFBTSxJQUN0QixJQUFJSCx3REFBWUEsQ0FBQztJQUNmSSxLQUFLO1FBQUM7UUFBUTtLQUFRO0FBQ3hCLEdBQUc7QUFFTCxJQUFJQyxJQUFxQyxFQUFFO0lBQ3pDSixnQkFBZ0JFLE1BQU0sR0FBR0E7QUFDM0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teS12MC1wcm9qZWN0Ly4vbGliL3ByaXNtYS50cz85ODIyIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGxpYi9wcmlzbWEudHNcbmltcG9ydCB7IFByaXNtYUNsaWVudCB9IGZyb20gXCJAcHJpc21hL2NsaWVudFwiO1xuXG5jb25zdCBnbG9iYWxGb3JQcmlzbWEgPSBnbG9iYWxUaGlzIGFzIHVua25vd24gYXMge1xuICBwcmlzbWE6IFByaXNtYUNsaWVudCB8IHVuZGVmaW5lZDtcbn07XG5cbmV4cG9ydCBjb25zdCBwcmlzbWEgPVxuICBnbG9iYWxGb3JQcmlzbWEucHJpc21hID8/XG4gIG5ldyBQcmlzbWFDbGllbnQoe1xuICAgIGxvZzogW1wid2FyblwiLCBcImVycm9yXCJdLCAvLyBrZWVwIGl0IG1pbmltYWxcbiAgfSk7XG5cbmlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gXCJwcm9kdWN0aW9uXCIpIHtcbiAgZ2xvYmFsRm9yUHJpc21hLnByaXNtYSA9IHByaXNtYTtcbn1cbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJnbG9iYWxGb3JQcmlzbWEiLCJnbG9iYWxUaGlzIiwicHJpc21hIiwibG9nIiwicHJvY2VzcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/prisma.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@auth","vendor-chunks/next-auth","vendor-chunks/jose","vendor-chunks/oauth4webapi","vendor-chunks/bcryptjs","vendor-chunks/preact","vendor-chunks/preact-render-to-string","vendor-chunks/@panva","vendor-chunks/svix","vendor-chunks/resend","vendor-chunks/uuid","vendor-chunks/fast-sha256","vendor-chunks/@stablelib"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fincorporation%2Fmark-paid%2Froute&page=%2Fapi%2Fincorporation%2Fmark-paid%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fincorporation%2Fmark-paid%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_pa_sg&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();