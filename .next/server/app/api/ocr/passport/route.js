"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/ocr/passport/route";
exports.ids = ["app/api/ocr/passport/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Focr%2Fpassport%2Froute&page=%2Fapi%2Focr%2Fpassport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Fpassport%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Focr%2Fpassport%2Froute&page=%2Fapi%2Focr%2Fpassport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Fpassport%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_phraewaphuriyaphan_Desktop_Synergy_updatedform_app_api_ocr_passport_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/ocr/passport/route.ts */ \"(rsc)/./app/api/ocr/passport/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/ocr/passport/route\",\n        pathname: \"/api/ocr/passport\",\n        filename: \"route\",\n        bundlePath: \"app/api/ocr/passport/route\"\n    },\n    resolvedPagePath: \"/Users/phraewaphuriyaphan/Desktop/Synergy_updatedform/app/api/ocr/passport/route.ts\",\n    nextConfigOutput,\n    userland: _Users_phraewaphuriyaphan_Desktop_Synergy_updatedform_app_api_ocr_passport_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/ocr/passport/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZvY3IlMkZwYXNzcG9ydCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGb2NyJTJGcGFzc3BvcnQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZvY3IlMkZwYXNzcG9ydCUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3VwZGF0ZWRmb3JtJTJGYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj0lMkZVc2VycyUyRnBocmFld2FwaHVyaXlhcGhhbiUyRkRlc2t0b3AlMkZTeW5lcmd5X3VwZGF0ZWRmb3JtJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDYztBQUNtQztBQUNoSDtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsZ0hBQW1CO0FBQzNDO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsWUFBWTtBQUNaLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQSxRQUFRLGlFQUFpRTtBQUN6RTtBQUNBO0FBQ0EsV0FBVyw0RUFBVztBQUN0QjtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ3VIOztBQUV2SCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvP2U5Y2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiL1VzZXJzL3BocmFld2FwaHVyaXlhcGhhbi9EZXNrdG9wL1N5bmVyZ3lfdXBkYXRlZGZvcm0vYXBwL2FwaS9vY3IvcGFzc3BvcnQvcm91dGUudHNcIjtcbi8vIFdlIGluamVjdCB0aGUgbmV4dENvbmZpZ091dHB1dCBoZXJlIHNvIHRoYXQgd2UgY2FuIHVzZSB0aGVtIGluIHRoZSByb3V0ZVxuLy8gbW9kdWxlLlxuY29uc3QgbmV4dENvbmZpZ091dHB1dCA9IFwiXCJcbmNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IEFwcFJvdXRlUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLkFQUF9ST1VURSxcbiAgICAgICAgcGFnZTogXCIvYXBpL29jci9wYXNzcG9ydC9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL29jci9wYXNzcG9ydFwiLFxuICAgICAgICBmaWxlbmFtZTogXCJyb3V0ZVwiLFxuICAgICAgICBidW5kbGVQYXRoOiBcImFwcC9hcGkvb2NyL3Bhc3Nwb3J0L3JvdXRlXCJcbiAgICB9LFxuICAgIHJlc29sdmVkUGFnZVBhdGg6IFwiL1VzZXJzL3BocmFld2FwaHVyaXlhcGhhbi9EZXNrdG9wL1N5bmVyZ3lfdXBkYXRlZGZvcm0vYXBwL2FwaS9vY3IvcGFzc3BvcnQvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL29jci9wYXNzcG9ydC9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Focr%2Fpassport%2Froute&page=%2Fapi%2Focr%2Fpassport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Fpassport%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/ocr/passport/route.ts":
/*!***************************************!*\
  !*** ./app/api/ocr/passport/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   runtime: () => (/* binding */ runtime)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n\nconst runtime = \"nodejs\";\nconst dynamic = \"force-dynamic\";\nconst MODEL = \"anthropic/claude-3.5-sonnet\";\nasync function POST(req) {\n    try {\n        const formData = await req.formData();\n        const file = formData.get(\"file\");\n        if (!file) return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"No file uploaded\"\n        }, {\n            status: 400\n        });\n        // For now, accept only images (JPG/PNG). PDFs need rasterization first.\n        const mime = file.type || \"\";\n        if (!/^image\\//i.test(mime)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Please upload a JPG/PNG image of the passport.\"\n            }, {\n                status: 415\n            });\n        }\n        const buf = Buffer.from(await file.arrayBuffer());\n        const dataUrl = `data:${mime};base64,${buf.toString(\"base64\")}`;\n        // Build an OpenAI-compatible request for OpenRouter\n        const payload = {\n            model: MODEL,\n            // Force strict JSON so we can parse safely\n            response_format: {\n                type: \"json_object\"\n            },\n            messages: [\n                {\n                    role: \"user\",\n                    content: [\n                        {\n                            type: \"text\",\n                            text: `You are reading a passport image. Extract these fields and return ONLY a JSON object:\n\n- nationality (ISO country name if visible, else 3-letter MRZ code)\n- passportNumber\n- dateOfBirth (YYYY-MM-DD)\n- passportExpiryDate (YYYY-MM-DD)\n\nIf a field is not visible, omit it. Do not include extra keys.`\n                        },\n                        {\n                            type: \"image_url\",\n                            image_url: {\n                                url: dataUrl\n                            }\n                        }\n                    ]\n                }\n            ]\n        };\n        // Use a timeout so requests never hang forever\n        const ac = new AbortController();\n        const timer = setTimeout(()=>ac.abort(), 90000);\n        const res = await fetch(\"https://openrouter.ai/api/v1/chat/completions\", {\n            method: \"POST\",\n            signal: ac.signal,\n            headers: {\n                \"Authorization\": `Bearer ${process.env.OPENROUTER_API_KEY || \"\"}`,\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify(payload)\n        }).catch((e)=>{\n            throw new Error(`OpenRouter request failed: ${e?.message || e}`);\n        }).finally(()=>clearTimeout(timer));\n        if (!res.ok) {\n            const errText = await res.text().catch(()=>\"\");\n            throw new Error(`OpenRouter error (${res.status}): ${errText}`);\n        }\n        const json = await res.json();\n        const content = json?.choices?.[0]?.message?.content;\n        let fields = {};\n        try {\n            // content is forced JSON because response_format=json_object\n            fields = typeof content === \"string\" ? JSON.parse(content) : content || {};\n        } catch  {\n            fields = {};\n        }\n        // Normalize keys defensively\n        const out = {\n            nationality: fields.nationality ?? undefined,\n            passportNumber: fields.passportNumber ?? fields.passport_no ?? fields.passport ?? undefined,\n            dateOfBirth: normDate(fields.dateOfBirth || fields.birthDate),\n            passportExpiryDate: normDate(fields.passportExpiryDate || fields.expiryDate || fields.passportExpiry)\n        };\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(out, {\n            status: 200\n        });\n    } catch (err) {\n        const msg = err?.name === \"AbortError\" ? \"Passport reading timed out. Try a clearer/smaller image.\" : err?.message || \"Server error while reading passport\";\n        console.error(\"[OCR via OpenRouter] error:\", err);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: msg\n        }, {\n            status: 500\n        });\n    }\n}\nfunction normDate(s) {\n    if (!s) return undefined;\n    // Accept common formats and coerce to YYYY-MM-DD\n    const m = String(s).trim().match(/^(\\d{4})[-/](\\d{1,2})[-/](\\d{1,2})$/);\n    if (m) {\n        const [_, y, mo, d] = m;\n        return `${y}-${mo.padStart(2, \"0\")}-${d.padStart(2, \"0\")}`;\n    }\n    // YYMMDD (MRZ style)\n    const m2 = String(s).trim().match(/^(\\d{2})(\\d{2})(\\d{2})$/);\n    if (m2) {\n        let yy = parseInt(m2[1], 10);\n        const year = yy >= 30 ? 1900 + yy : 2000 + yy;\n        return `${year}-${m2[2]}-${m2[3]}`;\n    }\n    return s // fall through if model already gave ISO\n    ;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENBQUMsRUFBRUgsRUFBRSxDQUFDLEVBQUUsQ0FBQyxDQUFDLEVBQUVBLEVBQUUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUNwQztJQUNBLE9BQU9WLEVBQUUseUNBQXlDOztBQUNwRCIsInNvdXJjZXMiOlsid2VicGFjazovL215LXYwLXByb2plY3QvLi9hcHAvYXBpL29jci9wYXNzcG9ydC9yb3V0ZS50cz85NmIyIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXNwb25zZSB9IGZyb20gJ25leHQvc2VydmVyJ1xuXG5leHBvcnQgY29uc3QgcnVudGltZSA9ICdub2RlanMnXG5leHBvcnQgY29uc3QgZHluYW1pYyA9ICdmb3JjZS1keW5hbWljJ1xuXG5jb25zdCBNT0RFTCA9ICdhbnRocm9waWMvY2xhdWRlLTMuNS1zb25uZXQnXG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcTogUmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxLmZvcm1EYXRhKClcbiAgICBjb25zdCBmaWxlID0gZm9ybURhdGEuZ2V0KCdmaWxlJykgYXMgRmlsZSB8IG51bGxcbiAgICBpZiAoIWZpbGUpIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnTm8gZmlsZSB1cGxvYWRlZCcgfSwgeyBzdGF0dXM6IDQwMCB9KVxuXG4gICAgLy8gRm9yIG5vdywgYWNjZXB0IG9ubHkgaW1hZ2VzIChKUEcvUE5HKS4gUERGcyBuZWVkIHJhc3Rlcml6YXRpb24gZmlyc3QuXG4gICAgY29uc3QgbWltZSA9IGZpbGUudHlwZSB8fCAnJ1xuICAgIGlmICghL15pbWFnZVxcLy9pLnRlc3QobWltZSkpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUGxlYXNlIHVwbG9hZCBhIEpQRy9QTkcgaW1hZ2Ugb2YgdGhlIHBhc3Nwb3J0LicgfSwgeyBzdGF0dXM6IDQxNSB9KVxuICAgIH1cblxuICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKGF3YWl0IGZpbGUuYXJyYXlCdWZmZXIoKSlcbiAgICBjb25zdCBkYXRhVXJsID0gYGRhdGE6JHttaW1lfTtiYXNlNjQsJHtidWYudG9TdHJpbmcoJ2Jhc2U2NCcpfWBcblxuICAgIC8vIEJ1aWxkIGFuIE9wZW5BSS1jb21wYXRpYmxlIHJlcXVlc3QgZm9yIE9wZW5Sb3V0ZXJcbiAgICBjb25zdCBwYXlsb2FkID0ge1xuICAgICAgbW9kZWw6IE1PREVMLFxuICAgICAgLy8gRm9yY2Ugc3RyaWN0IEpTT04gc28gd2UgY2FuIHBhcnNlIHNhZmVseVxuICAgICAgcmVzcG9uc2VfZm9ybWF0OiB7IHR5cGU6ICdqc29uX29iamVjdCcgYXMgY29uc3QgfSxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiAndXNlcicsXG4gICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgIHRleHQ6XG5gWW91IGFyZSByZWFkaW5nIGEgcGFzc3BvcnQgaW1hZ2UuIEV4dHJhY3QgdGhlc2UgZmllbGRzIGFuZCByZXR1cm4gT05MWSBhIEpTT04gb2JqZWN0OlxuXG4tIG5hdGlvbmFsaXR5IChJU08gY291bnRyeSBuYW1lIGlmIHZpc2libGUsIGVsc2UgMy1sZXR0ZXIgTVJaIGNvZGUpXG4tIHBhc3Nwb3J0TnVtYmVyXG4tIGRhdGVPZkJpcnRoIChZWVlZLU1NLUREKVxuLSBwYXNzcG9ydEV4cGlyeURhdGUgKFlZWVktTU0tREQpXG5cbklmIGEgZmllbGQgaXMgbm90IHZpc2libGUsIG9taXQgaXQuIERvIG5vdCBpbmNsdWRlIGV4dHJhIGtleXMuYFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgdHlwZTogJ2ltYWdlX3VybCcsXG4gICAgICAgICAgICAgIGltYWdlX3VybDogeyB1cmw6IGRhdGFVcmwgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgXVxuICAgIH1cblxuICAgIC8vIFVzZSBhIHRpbWVvdXQgc28gcmVxdWVzdHMgbmV2ZXIgaGFuZyBmb3JldmVyXG4gICAgY29uc3QgYWMgPSBuZXcgQWJvcnRDb250cm9sbGVyKClcbiAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQoKCkgPT4gYWMuYWJvcnQoKSwgOTBfMDAwKVxuXG4gICAgY29uc3QgcmVzID0gYXdhaXQgZmV0Y2goJ2h0dHBzOi8vb3BlbnJvdXRlci5haS9hcGkvdjEvY2hhdC9jb21wbGV0aW9ucycsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgc2lnbmFsOiBhYy5zaWduYWwsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgICdBdXRob3JpemF0aW9uJzogYEJlYXJlciAke3Byb2Nlc3MuZW52Lk9QRU5ST1VURVJfQVBJX0tFWSB8fCAnJ31gLFxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHBheWxvYWQpLFxuICAgIH0pLmNhdGNoKChlKSA9PiB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYE9wZW5Sb3V0ZXIgcmVxdWVzdCBmYWlsZWQ6ICR7ZT8ubWVzc2FnZSB8fCBlfWApXG4gICAgfSkuZmluYWxseSgoKSA9PiBjbGVhclRpbWVvdXQodGltZXIpKVxuXG4gICAgaWYgKCFyZXMub2spIHtcbiAgICAgIGNvbnN0IGVyclRleHQgPSBhd2FpdCByZXMudGV4dCgpLmNhdGNoKCgpID0+ICcnKVxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBPcGVuUm91dGVyIGVycm9yICgke3Jlcy5zdGF0dXN9KTogJHtlcnJUZXh0fWApXG4gICAgfVxuXG4gICAgY29uc3QganNvbiA9IGF3YWl0IHJlcy5qc29uKClcbiAgICBjb25zdCBjb250ZW50ID0ganNvbj8uY2hvaWNlcz8uWzBdPy5tZXNzYWdlPy5jb250ZW50XG5cbiAgICBsZXQgZmllbGRzOiBhbnkgPSB7fVxuICAgIHRyeSB7XG4gICAgICAvLyBjb250ZW50IGlzIGZvcmNlZCBKU09OIGJlY2F1c2UgcmVzcG9uc2VfZm9ybWF0PWpzb25fb2JqZWN0XG4gICAgICBmaWVsZHMgPSB0eXBlb2YgY29udGVudCA9PT0gJ3N0cmluZycgPyBKU09OLnBhcnNlKGNvbnRlbnQpIDogKGNvbnRlbnQgfHwge30pXG4gICAgfSBjYXRjaCB7XG4gICAgICBmaWVsZHMgPSB7fVxuICAgIH1cblxuICAgIC8vIE5vcm1hbGl6ZSBrZXlzIGRlZmVuc2l2ZWx5XG4gICAgY29uc3Qgb3V0ID0ge1xuICAgICAgbmF0aW9uYWxpdHk6ICAgICAgICBmaWVsZHMubmF0aW9uYWxpdHkgPz8gdW5kZWZpbmVkLFxuICAgICAgcGFzc3BvcnROdW1iZXI6ICAgICBmaWVsZHMucGFzc3BvcnROdW1iZXIgPz8gZmllbGRzLnBhc3Nwb3J0X25vID8/IGZpZWxkcy5wYXNzcG9ydCA/PyB1bmRlZmluZWQsXG4gICAgICBkYXRlT2ZCaXJ0aDogICAgICAgIG5vcm1EYXRlKGZpZWxkcy5kYXRlT2ZCaXJ0aCB8fCBmaWVsZHMuYmlydGhEYXRlKSxcbiAgICAgIHBhc3Nwb3J0RXhwaXJ5RGF0ZTogbm9ybURhdGUoZmllbGRzLnBhc3Nwb3J0RXhwaXJ5RGF0ZSB8fCBmaWVsZHMuZXhwaXJ5RGF0ZSB8fCBmaWVsZHMucGFzc3BvcnRFeHBpcnkpLFxuICAgIH1cblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihvdXQsIHsgc3RhdHVzOiAyMDAgfSlcbiAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICBjb25zdCBtc2cgPSBlcnI/Lm5hbWUgPT09ICdBYm9ydEVycm9yJ1xuICAgICAgPyAnUGFzc3BvcnQgcmVhZGluZyB0aW1lZCBvdXQuIFRyeSBhIGNsZWFyZXIvc21hbGxlciBpbWFnZS4nXG4gICAgICA6IChlcnI/Lm1lc3NhZ2UgfHwgJ1NlcnZlciBlcnJvciB3aGlsZSByZWFkaW5nIHBhc3Nwb3J0JylcblxuICAgIGNvbnNvbGUuZXJyb3IoJ1tPQ1IgdmlhIE9wZW5Sb3V0ZXJdIGVycm9yOicsIGVycilcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogbXNnIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuXG5mdW5jdGlvbiBub3JtRGF0ZShzPzogc3RyaW5nKSB7XG4gIGlmICghcykgcmV0dXJuIHVuZGVmaW5lZFxuICAvLyBBY2NlcHQgY29tbW9uIGZvcm1hdHMgYW5kIGNvZXJjZSB0byBZWVlZLU1NLUREXG4gIGNvbnN0IG0gPSBTdHJpbmcocykudHJpbSgpLm1hdGNoKC9eKFxcZHs0fSlbLS9dKFxcZHsxLDJ9KVstL10oXFxkezEsMn0pJC8pXG4gIGlmIChtKSB7XG4gICAgY29uc3QgW18sIHksIG1vLCBkXSA9IG1cbiAgICByZXR1cm4gYCR7eX0tJHttby5wYWRTdGFydCgyLCcwJyl9LSR7ZC5wYWRTdGFydCgyLCcwJyl9YFxuICB9XG4gIC8vIFlZTU1ERCAoTVJaIHN0eWxlKVxuICBjb25zdCBtMiA9IFN0cmluZyhzKS50cmltKCkubWF0Y2goL14oXFxkezJ9KShcXGR7Mn0pKFxcZHsyfSkkLylcbiAgaWYgKG0yKSB7XG4gICAgbGV0IHl5ID0gcGFyc2VJbnQobTJbMV0sIDEwKVxuICAgIGNvbnN0IHllYXIgPSB5eSA+PSAzMCA/IDE5MDAgKyB5eSA6IDIwMDAgKyB5eVxuICAgIHJldHVybiBgJHt5ZWFyfS0ke20yWzJdfS0ke20yWzNdfWBcbiAgfVxuICByZXR1cm4gcyAvLyBmYWxsIHRocm91Z2ggaWYgbW9kZWwgYWxyZWFkeSBnYXZlIElTT1xufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsInJ1bnRpbWUiLCJkeW5hbWljIiwiTU9ERUwiLCJQT1NUIiwicmVxIiwiZm9ybURhdGEiLCJmaWxlIiwiZ2V0IiwianNvbiIsImVycm9yIiwic3RhdHVzIiwibWltZSIsInR5cGUiLCJ0ZXN0IiwiYnVmIiwiQnVmZmVyIiwiZnJvbSIsImFycmF5QnVmZmVyIiwiZGF0YVVybCIsInRvU3RyaW5nIiwicGF5bG9hZCIsIm1vZGVsIiwicmVzcG9uc2VfZm9ybWF0IiwibWVzc2FnZXMiLCJyb2xlIiwiY29udGVudCIsInRleHQiLCJpbWFnZV91cmwiLCJ1cmwiLCJhYyIsIkFib3J0Q29udHJvbGxlciIsInRpbWVyIiwic2V0VGltZW91dCIsImFib3J0IiwicmVzIiwiZmV0Y2giLCJtZXRob2QiLCJzaWduYWwiLCJoZWFkZXJzIiwicHJvY2VzcyIsImVudiIsIk9QRU5ST1VURVJfQVBJX0tFWSIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiY2F0Y2giLCJlIiwiRXJyb3IiLCJtZXNzYWdlIiwiZmluYWxseSIsImNsZWFyVGltZW91dCIsIm9rIiwiZXJyVGV4dCIsImNob2ljZXMiLCJmaWVsZHMiLCJwYXJzZSIsIm91dCIsIm5hdGlvbmFsaXR5IiwidW5kZWZpbmVkIiwicGFzc3BvcnROdW1iZXIiLCJwYXNzcG9ydF9ubyIsInBhc3Nwb3J0IiwiZGF0ZU9mQmlydGgiLCJub3JtRGF0ZSIsImJpcnRoRGF0ZSIsInBhc3Nwb3J0RXhwaXJ5RGF0ZSIsImV4cGlyeURhdGUiLCJwYXNzcG9ydEV4cGlyeSIsImVyciIsIm1zZyIsIm5hbWUiLCJjb25zb2xlIiwicyIsIm0iLCJTdHJpbmciLCJ0cmltIiwibWF0Y2giLCJfIiwieSIsIm1vIiwiZCIsInBhZFN0YXJ0IiwibTIiLCJ5eSIsInBhcnNlSW50IiwieWVhciJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./app/api/ocr/passport/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Focr%2Fpassport%2Froute&page=%2Fapi%2Focr%2Fpassport%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Focr%2Fpassport%2Froute.ts&appDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fphraewaphuriyaphan%2FDesktop%2FSynergy_updatedform&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();